_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[32],{FCuQ:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var a=n("nKUr"),c=n("q1tI"),i=n("80PL"),r=n("/MKj"),s=n("TSYQ"),u=n.n(s),o=n("g4pe"),d=n.n(o),l=n("YFqc"),j=n.n(l),b=n("CUtM"),O=n("tfvX"),h=n("0Kmt"),f=n("dB/W"),v=n("cV5B"),p=n.n(v),m=n("OiYy"),x=n("yR7V"),w=n("4qaV"),g=n("TY48");function _(){var e,t=Object(r.c)((function(e){return e.user})),n=Object(c.useState)(),i=n[0],s=n[1],o=Object(h.a)("/api/websites").data;if(!o||null===t||void 0===t||!t.is_admin)return null;var l=o.map((function(e){return{label:e.name,value:e.website_id}})),v=null===(e=l.find((function(e){return e.value===(null===i||void 0===i?void 0:i.website_id)})))||void 0===e?void 0:e.value;return Object(a.jsxs)(b.a,{children:[Object(a.jsx)(d.a,{children:i&&Object(a.jsx)("script",{async:!0,defer:!0,"data-website-id":i.website_uuid,src:"/umami.js"})}),Object(a.jsxs)(O.a,{children:[Object(a.jsx)("div",{children:"Test Console"}),Object(a.jsx)(f.a,{value:v||"Select website",options:l,onChange:function(e){s(o.find((function(t){return t.website_id===e})))}})]}),!v&&Object(a.jsx)(g.a,{msg:"I hope you know what you're doing here"}),v&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:u()(p.a.test,"row"),children:[Object(a.jsxs)("div",{className:"col-4",children:[Object(a.jsx)(O.a,{children:"Page links"}),Object(a.jsx)("div",{children:Object(a.jsx)(j.a,{href:"?page=1",children:Object(a.jsx)("a",{children:"page one"})})}),Object(a.jsx)("div",{children:Object(a.jsx)(j.a,{href:"?page=2",children:Object(a.jsx)("a",{children:"page two"})})})]}),Object(a.jsxs)("div",{className:"col-4",children:[Object(a.jsx)(O.a,{children:"CSS events"}),Object(a.jsx)(w.a,{id:"primary-button",className:"umami--click--primary-button",variant:"action",children:"Send event"})]}),Object(a.jsxs)("div",{className:"col-4",children:[Object(a.jsx)(O.a,{children:"Javascript events"}),Object(a.jsx)(w.a,{id:"manual-button",variant:"action",onClick:function(){window.umami("event (default)"),window.umami.trackView("/page-view","https://www.google.com"),window.umami.trackEvent("event (custom)","custom-type")},children:"Run script"})]})]}),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-12",children:[Object(a.jsx)(m.a,{websiteId:i.website_id,title:i.name,domain:i.domain,showLink:!0}),Object(a.jsx)(O.a,{children:"Events"}),Object(a.jsx)(x.a,{websiteId:i.website_id})]})})]})]})}var y=n("IA1E");function k(){return Object(y.a)().loading?null:Object(a.jsx)(i.a,{children:Object(a.jsx)(_,{})})}},GF10:function(e,t,n){e.exports={placeholder:"EmptyPlaceholder_placeholder__3cc74",icon:"EmptyPlaceholder_icon__2JUKU",msg:"EmptyPlaceholder_msg__2xIqd"}},IA1E:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("vJKn"),c=n.n(a),i=n("rg98"),r=n("q1tI"),s=n("/MKj"),u=n("j6IE"),o=n("20a2"),d=n("jeBt");function l(){var e=Object(o.useRouter)(),t=Object(s.b)(),n=Object(s.c)((function(e){return e.user})),a=Object(r.useState)(!n),l=a[0],j=a[1],b=Object(r.useState)(n),O=b[0],h=b[1];function f(){return(f=Object(i.a)(c.a.mark((function n(){var a,i,r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return j(!0),n.next=3,Object(d.b)("".concat(e.basePath,"/api/auth/verify"));case 3:if(a=n.sent,i=a.ok,r=a.data,i){n.next=8;break}return n.abrupt("return",e.push("/login"));case 8:return n.next=10,t(Object(u.b)(r));case 10:h(O),j(!1);case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(r.useEffect)((function(){!l&&O||function(){f.apply(this,arguments)}()}),[]),{user:O,loading:l}}},TY48:function(e,t,n){"use strict";var a=n("nKUr"),c=(n("q1tI"),n("atwx")),i=n("y/Pd"),r=n("GF10"),s=n.n(r);t.a=function(e){var t=e.msg,n=e.children;return Object(a.jsxs)("div",{className:s.a.placeholder,children:[Object(a.jsx)(c.a,{className:s.a.icon,icon:Object(a.jsx)(i.a,{}),size:"xlarge"}),Object(a.jsx)("h2",{className:s.a.msg,children:t}),n]})}},cV5B:function(e,t,n){e.exports={test:"TestConsole_test__1DRG3"}},j6IE:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var a=n("i7Pf"),c=Object(a.b)({name:"user",initialState:null,reducers:{updateUser:function(e,t){return t.payload}}}),i=c.actions.updateUser;t.a=c.reducer},yR7V:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n("nKUr"),c=n("cpVT"),i=n("xvhg"),r=n("q1tI"),s=n("Zss7"),u=n.n(s),o=n("FoJg"),d=n("rIuf"),l=n("0Kmt"),j=n("G8Ct"),b=n("TdLA"),O=n("y4Yb"),h=n("bzoS"),f=n("YSmr");function v(e){var t=e.websiteId,n=e.className,s=e.token,v=Object(j.a)(t),p=Object(i.a)(v,1)[0],m=p.startDate,x=p.endDate,w=p.unit,g=p.modified,_=Object(b.a)(),y=Object(i.a)(_,1)[0],k=Object(O.a)().query,N=Object(h.a)(),E=Object(l.a)("/api/website/".concat(t,"/events"),{params:{start_at:+m,end_at:+x,unit:w,tz:y,url:k.url,token:s},headers:Object(c.a)({},f.r,null===N||void 0===N?void 0:N.token)},[g]),I=E.data,S=E.loading,C=Object(r.useMemo)((function(){if(!I)return[];if(S)return I;var e=I.reduce((function(e,t){var n=t.x,a=t.t,c=t.y;return e[n]||(e[n]=[]),e[n].push({t:a,y:c}),e}),{});return Object.keys(e).forEach((function(t){e[t]=Object(d.b)(e[t],m,x,w)})),Object.keys(e).map((function(t,n){var a=u()(f.i[n%f.i.length]);return{label:t,data:e[t],lineTension:0,backgroundColor:a.setAlpha(.6).toRgbString(),borderColor:a.setAlpha(.7).toRgbString(),borderWidth:1}}))}),[I,S]);return I?Object(a.jsx)(o.a,{chartId:"events-".concat(t),className:n,datasets:C,unit:w,height:300,records:Object(d.c)(m,x,w),onUpdate:function(e){e.data.datasets=C,e.update()},loading:S,stacked:!0}):null}},"zl3/":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/test",function(){return n("FCuQ")}])}},[["zl3/",0,2,6,8,11,1,3,4,5,7,9,10,12,13,14]]]);