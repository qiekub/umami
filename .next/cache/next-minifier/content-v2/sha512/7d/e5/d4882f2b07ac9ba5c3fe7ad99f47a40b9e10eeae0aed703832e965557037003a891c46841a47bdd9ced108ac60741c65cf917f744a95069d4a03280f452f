{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[33],{IA1E:function(t,e,n){\"use strict\";n.d(e,\"a\",(function(){return f}));var r=n(\"vJKn\"),u=n.n(r),a=n(\"rg98\"),c=n(\"q1tI\"),i=n(\"/MKj\"),s=n(\"j6IE\"),o=n(\"20a2\"),b=n(\"jeBt\");function f(){var t=Object(o.useRouter)(),e=Object(i.b)(),n=Object(i.c)((function(t){return t.user})),r=Object(c.useState)(!n),f=r[0],d=r[1],j=Object(c.useState)(n),p=j[0],w=j[1];function O(){return(O=Object(a.a)(u.a.mark((function n(){var r,a,c;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return d(!0),n.next=3,Object(b.b)(\"\".concat(t.basePath,\"/api/auth/verify\"));case 3:if(r=n.sent,a=r.ok,c=r.data,a){n.next=8;break}return n.abrupt(\"return\",t.push(\"/login\"));case 8:return n.next=10,e(Object(s.b)(c));case 10:w(p),d(!1);case 12:case\"end\":return n.stop()}}),n)})))).apply(this,arguments)}return Object(c.useEffect)((function(){!f&&p||function(){O.apply(this,arguments)}()}),[]),{user:p,loading:f}}},LDPB:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/website/[...id]\",function(){return n(\"wLY+\")}])},j6IE:function(t,e,n){\"use strict\";n.d(e,\"b\",(function(){return a}));var r=n(\"i7Pf\"),u=Object(r.b)({name:\"user\",initialState:null,reducers:{updateUser:function(t,e){return e.payload}}}),a=u.actions.updateUser;e.a=u.reducer},\"wLY+\":function(t,e,n){\"use strict\";n.r(e),n.d(e,\"default\",(function(){return o}));var r=n(\"nKUr\"),u=n(\"xvhg\"),a=(n(\"q1tI\"),n(\"20a2\")),c=n(\"80PL\"),i=n(\"hNIe\"),s=n(\"IA1E\");function o(){var t=Object(s.a)().loading,e=Object(a.useRouter)().query.id;if(!e||t)return null;var n=Object(u.a)(e,1)[0];return Object(r.jsx)(c.a,{children:Object(r.jsx)(i.a,{websiteId:n})})}}},[[\"LDPB\",0,2,6,8,11,1,3,4,5,7,9,10,12,13,14,15,18]]]);","map":{"version":3,"sources":["static/chunks/pages/website/[...id]-a4a9ec7ec127cbe1b7ed.js"],"names":["_N_E","window","push","IA1E","module","__webpack_exports__","__webpack_require__","d","useRequireLogin","_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react_redux__WEBPACK_IMPORTED_MODULE_3__","redux_actions_user__WEBPACK_IMPORTED_MODULE_4__","next_router__WEBPACK_IMPORTED_MODULE_5__","lib_web__WEBPACK_IMPORTED_MODULE_6__","router","Object","dispatch","storeUser","state","user","_useState","loading","setLoading","_useState2","setUser","_loadUser","a","mark","_callee","_yield$get","ok","data","wrap","_context","prev","next","concat","basePath","sent","abrupt","stop","apply","this","arguments","loadUser","LDPB","exports","__NEXT_P","j6IE","updateUser","_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__","name","initialState","reducers","action","payload","actions","wLY+","r","DetailsPage","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","next_router__WEBPACK_IMPORTED_MODULE_3__","components_layout_Layout__WEBPACK_IMPORTED_MODULE_4__","components_pages_WebsiteDetails__WEBPACK_IMPORTED_MODULE_5__","hooks_useRequireLogin__WEBPACK_IMPORTED_MODULE_6__","id","query","websiteId","children"],"mappings":"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"},"name":"static/chunks/pages/website/[...id]-a4a9ec7ec127cbe1b7ed.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[33],{\n\n/***/ \"IA1E\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return useRequireLogin; });\n/* harmony import */ var _Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var _Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"rg98\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var redux_actions_user__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"j6IE\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var lib_web__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"jeBt\");\n\n\n\n\n\n\n\nfunction useRequireLogin() {\n  var router = Object(next_router__WEBPACK_IMPORTED_MODULE_5__[\"useRouter\"])();\n  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[/* useDispatch */ \"b\"])();\n  var storeUser = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[/* useSelector */ \"c\"])(function (state) {\n    return state.user;\n  });\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(!storeUser),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(storeUser),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  function loadUser() {\n    return _loadUser.apply(this, arguments);\n  }\n\n  function _loadUser() {\n    _loadUser = Object(_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {\n      var _yield$get, ok, data;\n\n      return _Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.next = 3;\n              return Object(lib_web__WEBPACK_IMPORTED_MODULE_6__[/* get */ \"b\"])(\"\".concat(router.basePath, \"/api/auth/verify\"));\n\n            case 3:\n              _yield$get = _context.sent;\n              ok = _yield$get.ok;\n              data = _yield$get.data;\n\n              if (ok) {\n                _context.next = 8;\n                break;\n              }\n\n              return _context.abrupt(\"return\", router.push('/login'));\n\n            case 8:\n              _context.next = 10;\n              return dispatch(Object(redux_actions_user__WEBPACK_IMPORTED_MODULE_4__[/* updateUser */ \"b\"])(data));\n\n            case 10:\n              setUser(user);\n              setLoading(false);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _loadUser.apply(this, arguments);\n  }\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    if (!loading && user) {\n      return;\n    }\n\n    loadUser();\n  }, []);\n  return {\n    user: user,\n    loading: loading\n  };\n}\n\n/***/ }),\n\n/***/ \"LDPB\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/website/[...id]\",\n      function () {\n        return __webpack_require__(\"wLY+\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"j6IE\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return updateUser; });\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"i7Pf\");\n\nvar user = Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__[/* createSlice */ \"b\"])({\n  name: 'user',\n  initialState: null,\n  reducers: {\n    updateUser: function updateUser(state, action) {\n      state = action.payload;\n      return state;\n    }\n  }\n});\nvar updateUser = user.actions.updateUser;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (user.reducer);\n\n/***/ }),\n\n/***/ \"wLY+\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DetailsPage; });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"xvhg\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var components_layout_Layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"80PL\");\n/* harmony import */ var components_pages_WebsiteDetails__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"hNIe\");\n/* harmony import */ var hooks_useRequireLogin__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"IA1E\");\n\n\n\n\n\n\n\nfunction DetailsPage() {\n  var _useRequireLogin = Object(hooks_useRequireLogin__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"])(),\n      loading = _useRequireLogin.loading;\n\n  var router = Object(next_router__WEBPACK_IMPORTED_MODULE_3__[\"useRouter\"])();\n  var id = router.query.id;\n\n  if (!id || loading) {\n    return null;\n  }\n\n  var _id = Object(_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(id, 1),\n      websiteId = _id[0];\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(components_layout_Layout__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n    children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(components_pages_WebsiteDetails__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {\n      websiteId: websiteId\n    })\n  });\n}\n\n/***/ })\n\n},[[\"LDPB\",0,2,6,8,11,1,3,4,5,7,9,10,12,13,14,15,18]]]);","inputSourceMap":{"version":3,"sources":["/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/hooks/useRequireLogin.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fwebsite%2F%5B...id%5D&absolutePagePath=private-next-pages%2Fwebsite%2F%5B...id%5D.js!","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/redux/actions/user.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/pages/website/[...id].js"],"names":[],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8I;AACe;AACjH;AACW;AACP;AACR;AACV;AACf;AACf,eAAe,6DAAS;AACxB,iBAAiB,uEAAW;AAC5B,kBAAkB,uEAAW;AAC7B;AACA,GAAG;;AAEH,kBAAkB,sDAAQ;AAC1B;AACA;;AAEA,mBAAmB,sDAAQ;AAC3B;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,mLAAiB,eAAe,iJAAmB;AACnE;;AAEA,aAAa,iJAAmB;AAChC;AACA;AACA;AACA;AACA;AACA,qBAAqB,2DAAG;;AAExB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,8BAA8B,6EAAU;;AAExC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA,EAAE,uDAAS;AACX;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,C;;;;;;;;AC9EA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAAuC;AAC9D;AACA;;;;;;;;;ACNA;AAAA;AAA+C;AAC/C,WAAW,4EAAW;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACsB;AACP,qEAAY,E;;;;;;;;ACb3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgD;AACuG;AAC7H;AACc;AACM;AACe;AACT;AACrC;AACf,yBAAyB,6EAAe;AACxC;;AAEA,eAAe,6DAAS;AACxB;;AAEA;AACA;AACA;;AAEA,YAAY,gLAAc;AAC1B;;AAEA,sBAAsB,6DAAI,CAAC,wEAAM;AACjC,2BAA2B,6DAAI,CAAC,+EAAc;AAC9C;AACA,KAAK;AACL,GAAG;AACH,C","file":"x","sourcesContent":["import _regeneratorRuntime from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateUser } from 'redux/actions/user';\nimport { useRouter } from 'next/router';\nimport { get } from 'lib/web';\nexport default function useRequireLogin() {\n  var router = useRouter();\n  var dispatch = useDispatch();\n  var storeUser = useSelector(function (state) {\n    return state.user;\n  });\n\n  var _useState = useState(!storeUser),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(storeUser),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  function loadUser() {\n    return _loadUser.apply(this, arguments);\n  }\n\n  function _loadUser() {\n    _loadUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _yield$get, ok, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.next = 3;\n              return get(\"\".concat(router.basePath, \"/api/auth/verify\"));\n\n            case 3:\n              _yield$get = _context.sent;\n              ok = _yield$get.ok;\n              data = _yield$get.data;\n\n              if (ok) {\n                _context.next = 8;\n                break;\n              }\n\n              return _context.abrupt(\"return\", router.push('/login'));\n\n            case 8:\n              _context.next = 10;\n              return dispatch(updateUser(data));\n\n            case 10:\n              setUser(user);\n              setLoading(false);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _loadUser.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    if (!loading && user) {\n      return;\n    }\n\n    loadUser();\n  }, []);\n  return {\n    user: user,\n    loading: loading\n  };\n}","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/website/[...id]\",\n      function () {\n        return require(\"private-next-pages/website/[...id].js\");\n      }\n    ]);\n  ","import { createSlice } from '@reduxjs/toolkit';\nvar user = createSlice({\n  name: 'user',\n  initialState: null,\n  reducers: {\n    updateUser: function updateUser(state, action) {\n      state = action.payload;\n      return state;\n    }\n  }\n});\nvar updateUser = user.actions.updateUser;\nexport { updateUser };\nexport default user.reducer;","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport _slicedToArray from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React from 'react';\nimport { useRouter } from 'next/router';\nimport Layout from 'components/layout/Layout';\nimport WebsiteDetails from 'components/pages/WebsiteDetails';\nimport useRequireLogin from 'hooks/useRequireLogin';\nexport default function DetailsPage() {\n  var _useRequireLogin = useRequireLogin(),\n      loading = _useRequireLogin.loading;\n\n  var router = useRouter();\n  var id = router.query.id;\n\n  if (!id || loading) {\n    return null;\n  }\n\n  var _id = _slicedToArray(id, 1),\n      websiteId = _id[0];\n\n  return /*#__PURE__*/_jsx(Layout, {\n    children: /*#__PURE__*/_jsx(WebsiteDetails, {\n      websiteId: websiteId\n    })\n  });\n}"]}}