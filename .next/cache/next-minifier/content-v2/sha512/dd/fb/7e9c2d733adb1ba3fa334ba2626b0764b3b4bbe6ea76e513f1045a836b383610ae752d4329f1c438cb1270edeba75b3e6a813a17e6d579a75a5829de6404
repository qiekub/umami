{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{\"0tU5\":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/realtime\",function(){return n(\"caRh\")}])},IA1E:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return b}));var r=n(\"vJKn\"),s=n.n(r),a=n(\"rg98\"),i=n(\"q1tI\"),c=n(\"/MKj\"),o=n(\"j6IE\"),u=n(\"20a2\"),l=n(\"jeBt\");function b(){var e=Object(u.useRouter)(),t=Object(c.b)(),n=Object(c.c)((function(e){return e.user})),r=Object(i.useState)(!n),b=r[0],j=r[1],d=Object(i.useState)(n),O=d[0],v=d[1];function f(){return(f=Object(a.a)(s.a.mark((function n(){var r,a,i;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return j(!0),n.next=3,Object(l.b)(\"\".concat(e.basePath,\"/api/auth/verify\"));case 3:if(r=n.sent,a=r.ok,i=r.data,a){n.next=8;break}return n.abrupt(\"return\",e.push(\"/login\"));case 8:return n.next=10,t(Object(o.b)(i));case 10:v(O),j(!1);case 12:case\"end\":return n.stop()}}),n)})))).apply(this,arguments)}return Object(i.useEffect)((function(){!b&&O||function(){f.apply(this,arguments)}()}),[]),{user:O,loading:b}}},POTn:function(e,t,n){e.exports={metrics:\"RealtimeHeader_metrics__3UCe2\"}},cNLv:function(e,t,n){e.exports={table:\"RealtimeLog_table__2Tl9b\",header:\"RealtimeLog_header__2LeBZ\",row:\"RealtimeLog_row__1a7u4\",body:\"RealtimeLog_body__3dkV9\",icon:\"RealtimeLog_icon__3aQPX\",time:\"RealtimeLog_time__PHd3a\",website:\"RealtimeLog_website__1eqHT\",detail:\"RealtimeLog_detail__2LyTK\",link:\"RealtimeLog_link__2ni65\"}},caRh:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return we}));var r=n(\"nKUr\"),s=n(\"q1tI\"),a=n(\"80PL\"),i=n(\"cpVT\"),c=n(\"xvhg\"),o=n(\"kriW\"),u=n(\"/h9T\"),l=n(\"IYaI\"),b=n(\"jIYg\");function j(e,t){Object(b.a)(2,arguments);var n=Object(u.a)(t);return Object(l.a)(e,-n)}var d=n(\"0LOL\"),O=n(\"zsrT\"),v=n.n(O),f=n(\"CUtM\"),g=n(\"FtD2\"),m=n(\"dhJC\"),h=n(\"4+6U\"),w=n(\"sWYD\"),p=n(\"dndX\"),x=n(\"rqNM\"),_=n(\"rIuf\"),y=n(\"YSmr\");function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e){var t=0,n=[];return e.reduce((function(e,r){var s=r.created_at,a=Object(d.a)(Object(h.a)(s));return a.getTime()>t?(e={t:Object(w.a)(a,\"yyyy-LL-dd HH:mm:00\"),y:1},n.push(e),t=a):e.y+=1,e}),{}),n}function E(e){var t=e.data,n=e.unit,a=Object(m.a)(e,[\"data\",\"unit\"]),i=Object(d.a)(new Date),c=j(i,y.n),o=Object(s.useRef)(i),u=Object(s.useMemo)((function(){return t?{pageviews:Object(_.b)(L(t.pageviews),c,i,n),sessions:Object(_.b)(L(t.sessions),c,i,n)}:{pageviews:[],sessions:[]}}),[t]),l=Object(s.useMemo)((function(){return Object(p.a)(o.current,i)?(o.current=i,0):y.c}),[t]);return Object(r.jsx)(x.a,P(P({},a),{},{height:200,unit:n,data:u,animationDuration:l}))}var N,R=n(\"z7pX\"),k=n(\"dDsW\"),C=n(\"iR1w\"),D=n(\"atwx\"),I=n(\"fFFQ\"),S=n(\"ty6r\"),T=n(\"2K+N\"),z=n(\"ZzUg\"),U=n(\"m/GJ\"),V=n(\"nsFc\"),X=n(\"LAde\");function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var K,W=function(e){return s.createElement(\"svg\",H({xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 320 512\"},e),N||(N=s.createElement(\"path\",{d:\"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z\"})))};function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var B,F=function(e){return s.createElement(\"svg\",A({xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 448 512\"},e),K||(K=s.createElement(\"path\",{d:\"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z\"})))};function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var J,q=function(e){return s.createElement(\"svg\",G({xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 576 512\"},e),B||(B=s.createElement(\"path\",{d:\"M288 144a110.94 110.94 0 00-31.24 5 55.4 55.4 0 017.24 27 56 56 0 01-56 56 55.4 55.4 0 01-27-7.24A111.71 111.71 0 10288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 000 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 000-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z\"})))},Y=n(\"GGPy\"),Z=n(\"cNLv\"),Q=n.n(Z),$=(J={},Object(i.a)(J,1,Object(r.jsx)(q,{})),Object(i.a)(J,2,Object(r.jsx)(F,{})),Object(i.a)(J,3,Object(r.jsx)(W,{})),J);function ee(e){var t=e.data,n=e.websites,a=e.websiteId,i=Object(k.a)(),u=Object(V.a)(),l=Object(c.a)(u,1)[0],b=Object(X.a)(l),j=Object(s.useState)(0),d=j[0],O=j[1],f=Object(s.useMemo)((function(){var e=t.pageviews,n=t.sessions,r=t.events,s=[].concat(Object(R.a)(e),Object(R.a)(n),Object(R.a)(r)).sort(v()(\"created_at\",-1));return d?s.filter((function(e){return h(e)===d})):s}),[t,d]),g=Object(s.useMemo)((function(){return t.sessions.reduce((function(e,t){var n=t.session_id,r=t.session_uuid;return e[n]=r,e}),{})}),[t]),m=[{label:Object(r.jsx)(o.a,{id:\"label.all\",defaultMessage:\"All\"}),value:0},{label:Object(r.jsx)(o.a,{id:\"metrics.views\",defaultMessage:\"Views\"}),value:1},{label:Object(r.jsx)(o.a,{id:\"metrics.visitors\",defaultMessage:\"Visitors\"}),value:2},{label:Object(r.jsx)(o.a,{id:\"metrics.events\",defaultMessage:\"Events\"}),value:3}];function h(e){var t=e.view_id,n=e.session_id;return e.event_id?3:t?1:n?2:null}function w(e){return $[h(e)]}function p(e){var t=e.website_id;return n.find((function(e){return e.website_id===t}))}function x(e){var t,n=e.event_type,s=e.event_value,a=e.view_id,c=e.session_id,u=e.url,l=e.browser,j=e.os,d=e.country,O=e.device,v=e.website_id;if(n)return Object(r.jsxs)(\"div\",{children:[Object(r.jsx)(I.a,{children:n}),\" \",s]});if(a){var f,g=null===(f=p({website_id:v}))||void 0===f?void 0:f.domain;return Object(r.jsx)(\"a\",{className:Q.a.link,href:\"//\".concat(g).concat(u),target:\"_blank\",rel:\"noreferrer noopener\",children:u})}return c?Object(r.jsx)(o.a,{id:\"message.log.visitor\",defaultMessage:\"Visitor from {country} using {browser} on {os} {device}\",values:{country:Object(r.jsx)(\"b\",{children:b[d]||i.formatMessage({id:\"label.unknown\",defaultMessage:\"Unknown\"})}),browser:Object(r.jsx)(\"b\",{children:y.a[l]}),os:Object(r.jsx)(\"b\",{children:j}),device:Object(r.jsx)(\"b\",{children:null===(t=i.formatMessage(U.a[O]))||void 0===t?void 0:t.toLowerCase()})}}):void 0}function M(e){var t=e.created_at;return Object(_.a)(new Date(t),\"pp\",l)}function P(e){var t=e.session_id;return Object(Y.d)(g[t]||\"\".concat(t).concat(p(e)))}return Object(r.jsxs)(\"div\",{className:Q.a.table,children:[Object(r.jsx)(T.a,{buttons:m,selected:d,onClick:O}),Object(r.jsx)(\"div\",{className:Q.a.header,children:Object(r.jsx)(o.a,{id:\"label.realtime-logs\",defaultMessage:\"Realtime logs\"})}),Object(r.jsxs)(\"div\",{className:Q.a.body,children:[0===(null===f||void 0===f?void 0:f.length)&&Object(r.jsx)(z.a,{}),(null===f||void 0===f?void 0:f.length)>0&&Object(r.jsx)(C.a,{height:400,itemCount:f.length,itemSize:40,children:function(e){var t,s=e.index,i=e.style,c=f[s];return Object(r.jsxs)(\"div\",{className:Q.a.row,style:i,children:[Object(r.jsx)(\"div\",{children:Object(r.jsx)(S.a,{color:P(c)})}),Object(r.jsx)(\"div\",{className:Q.a.time,children:M(c)}),Object(r.jsxs)(\"div\",{className:Q.a.detail,children:[Object(r.jsx)(D.a,{className:Q.a.icon,icon:w(c)}),x(c)]}),!a&&n.length>1&&Object(r.jsx)(\"div\",{className:Q.a.website,children:null===(t=p(c))||void 0===t?void 0:t.domain})]})}})]})]})}var te=n(\"tfvX\"),ne=n(\"dB/W\"),re=n(\"NgRG\"),se=n(\"POTn\"),ae=n.n(se);function ie(e){var t=e.websites,n=e.data,s=e.websiteId,a=e.onSelect,i=[{label:Object(r.jsx)(o.a,{id:\"label.all-websites\",defaultMessage:\"All websites\"}),value:0}].concat(t.map((function(e,t){return{label:e.name,value:e.website_id,divider:0===t}}))),c=n.pageviews,u=n.sessions,l=n.events,b=n.countries;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(te.a,{children:[Object(r.jsx)(\"div\",{children:Object(r.jsx)(o.a,{id:\"label.realtime\",defaultMessage:\"Realtime\"})}),Object(r.jsx)(ne.a,{value:s,options:i,onChange:a})]}),Object(r.jsxs)(\"div\",{className:ae.a.metrics,children:[Object(r.jsx)(re.a,{label:Object(r.jsx)(o.a,{id:\"metrics.views\",defaultMessage:\"Views\"}),value:c.length}),Object(r.jsx)(re.a,{label:Object(r.jsx)(o.a,{id:\"metrics.visitors\",defaultMessage:\"Visitors\"}),value:u.length}),Object(r.jsx)(re.a,{label:Object(r.jsx)(o.a,{id:\"metrics.events\",defaultMessage:\"Events\"}),value:l.length}),Object(r.jsx)(re.a,{label:Object(r.jsx)(o.a,{id:\"metrics.countries\",defaultMessage:\"Countries\"}),value:b.length})]})]})}var ce=n(\"sjKz\"),oe=n(\"vX6h\"),ue=n(\"GyfN\");function le(e){var t=e.websiteId,n=e.data,a=e.websites,i=n.pageviews,c=Object(s.useState)(0),u=c[0],l=c[1],b=Object(s.useMemo)((function(){return a.map((function(e){return e.domain}))}),[a]),j=Object(s.useCallback)((function(e){var t,n;return 1===a.length?null===(t=a[0])||void 0===t?void 0:t.domain:null===(n=a.find((function(t){return t.website_id===e})))||void 0===n?void 0:n.domain}),[a]),d=[{label:Object(r.jsx)(o.a,{id:\"metrics.referrers\",defaultMessage:\"Referrers\"}),value:0},{label:Object(r.jsx)(o.a,{id:\"metrics.pages\",defaultMessage:\"Pages\"}),value:1}],O=Object(s.useMemo)((function(){return i?[Object(ue.c)(i.reduce((function(e,t){var n=t.referrer;if(null!==n&&void 0!==n&&n.startsWith(\"http\")){var r=new URL(n).hostname.replace(/^www\\./,\"\");if(r&&!b.includes(r)){var s=e.find((function(e){return e.x===r}));s?s.y+=1:e.push({x:r,y:1})}}return e}),[]).sort(v()(\"y\",-1))),Object(ue.c)(i.reduce((function(e,n){var r,s=n.url,i=n.website_id;if(null!==(r=s)&&void 0!==r&&r.startsWith(\"/\")){!t&&a.length>1&&(s=\"\".concat(j(i)).concat(s));var c=e.find((function(e){return e.x===s}));c?c.y+=1:e.push({x:s,y:1})}return e}),[]).sort(v()(\"y\",-1)))]:[]}),[i]),f=O[0],g=O[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(T.a,{buttons:d,selected:u,onClick:l}),0===u&&Object(r.jsx)(oe.a,{title:Object(r.jsx)(o.a,{id:\"metrics.referrers\",defaultMessage:\"Referrers\"}),metric:Object(r.jsx)(o.a,{id:\"metrics.views\",defaultMessage:\"Views\"}),data:f,height:400}),1===u&&Object(r.jsx)(oe.a,{title:Object(r.jsx)(o.a,{id:\"metrics.pages\",defaultMessage:\"Pages\"}),metric:Object(r.jsx)(o.a,{id:\"metrics.views\",defaultMessage:\"Views\"}),renderLabel:function(e){var n=e.x,s=n.startsWith(\"/\")?j(t):\"\";return Object(r.jsx)(\"a\",{href:\"//\".concat(s).concat(n),target:\"_blank\",rel:\"noreferrer noopener\",children:n})},data:g,height:400})]})}var be=n(\"0Kmt\"),je=n(\"j6bx\"),de=n.n(je);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){var r=e.map((function(e){return e.__id}));return e.concat(t.filter((function(e){var t=e.__id;return!r.includes(t)}))).filter((function(e){var t=e.created_at;return new Date(t).getTime()>=n}))}function ge(e,t){return e.filter((function(e){return e.website_id===t}))}function me(){var e,t=Object(V.a)(),n=Object(c.a)(t,1)[0],a=Object(X.a)(n),u=Object(s.useState)(),l=u[0],b=u[1],O=Object(s.useState)(0),m=O[0],h=O[1],w=Object(be.a)(\"/api/realtime/init\"),p=w.data,x=w.loading,_=Object(be.a)(\"/api/realtime/update\",{params:{start_at:null===l||void 0===l?void 0:l.timestamp},disabled:!(null!==p&&void 0!==p&&null!==(e=p.websites)&&void 0!==e&&e.length)||!l,interval:y.m,headers:Object(i.a)({},y.r,null===p||void 0===p?void 0:p.token)}).data,M=Object(s.useCallback)((function(e){var t=e.x;return Object(r.jsx)(\"span\",{className:n,children:a[t]})}),[a]),P=Object(s.useMemo)((function(){if(l){var e=l.pageviews,t=l.sessions,n=l.events;if(m)return{pageviews:ge(e,m),sessions:ge(t,m),events:ge(n,m)}}return l}),[l,m]),L=Object(s.useMemo)((function(){return null!==P&&void 0!==P&&P.sessions?Object(ue.c)(P.sessions.reduce((function(e,t){var n=t.country;if(n){var r=e.find((function(e){return e.x===n}));r?r.y+=1:e.push({x:n,y:1})}return e}),[]).sort(v()(\"y\",-1))):[]}),[null===P||void 0===P?void 0:P.sessions]);if(Object(s.useEffect)((function(){if(p&&!l){var e=p.websites,t=p.data;b(ve({websites:e},t))}}),[p]),Object(s.useEffect)((function(){if(_){var e=_.pageviews,t=_.sessions,n=_.events,r=_.timestamp,s=j(Object(d.a)(new Date),y.n).getTime();b((function(a){return ve(ve({},a),{},{pageviews:fe(a.pageviews,e,s),sessions:fe(a.sessions,t,s),events:fe(a.events,n,s),timestamp:r})}))}}),[_]),!p||!l||x)return null;var N=l.websites;return Object(r.jsxs)(f.a,{children:[Object(r.jsx)(ie,{websites:N,websiteId:m,data:ve(ve({},P),{},{countries:L}),onSelect:h}),Object(r.jsx)(\"div\",{className:de.a.chart,children:Object(r.jsx)(E,{websiteId:m,data:P,unit:\"minute\",records:y.n})}),Object(r.jsxs)(g.c,{children:[Object(r.jsxs)(g.b,{children:[Object(r.jsx)(g.a,{xs:12,lg:4,children:Object(r.jsx)(le,{websiteId:m,data:P,websites:N})}),Object(r.jsx)(g.a,{xs:12,lg:8,children:Object(r.jsx)(ee,{websiteId:m,data:P,websites:N})})]}),Object(r.jsxs)(g.b,{children:[Object(r.jsx)(g.a,{xs:12,lg:4,children:Object(r.jsx)(oe.a,{title:Object(r.jsx)(o.a,{id:\"metrics.countries\",defaultMessage:\"Countries\"}),metric:Object(r.jsx)(o.a,{id:\"metrics.visitors\",defaultMessage:\"Visitors\"}),data:L,renderLabel:M,height:500})}),Object(r.jsx)(g.a,{xs:12,lg:8,children:Object(r.jsx)(ce.a,{data:L})})]})]})]})}var he=n(\"IA1E\");function we(){return Object(he.a)().loading?null:Object(r.jsx)(a.a,{children:Object(r.jsx)(me,{})})}},j6IE:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return a}));var r=n(\"i7Pf\"),s=Object(r.b)({name:\"user\",initialState:null,reducers:{updateUser:function(e,t){return t.payload}}}),a=s.actions.updateUser;t.a=s.reducer},j6bx:function(e,t,n){e.exports={container:\"RealtimeDashboard_container__1ZLx1\",chart:\"RealtimeDashboard_chart__1LaXv\"}}},[[\"0tU5\",0,2,6,8,11,1,3,4,5,7,12,15]]]);","map":{"version":3,"sources":["static/chunks/pages/realtime-95c82532ac0257b1a4c6.js"],"names":["_N_E","window","push","0tU5","module","exports","__webpack_require__","__NEXT_P","IA1E","__webpack_exports__","d","useRequireLogin","_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react_redux__WEBPACK_IMPORTED_MODULE_3__","redux_actions_user__WEBPACK_IMPORTED_MODULE_4__","next_router__WEBPACK_IMPORTED_MODULE_5__","lib_web__WEBPACK_IMPORTED_MODULE_6__","router","Object","dispatch","storeUser","state","user","_useState","loading","setLoading","_useState2","setUser","_loadUser","a","mark","_callee","_yield$get","ok","data","wrap","_context","prev","next","concat","basePath","sent","abrupt","stop","apply","this","arguments","loadUser","POTn","metrics","cNLv","table","header","row","body","icon","time","website","detail","link","caRh","r","RealtimePage","jsx_runtime","react","Layout","defineProperty","slicedToArray","message","toInteger","addMinutes","requiredArgs","subMinutes","dirtyDate","dirtyAmount","amount","startOfMinute","thenBy_module","thenBy_module_default","Page","GridLayout","objectWithoutProperties","parseISO","format","isBefore","PageviewsChart","date","constants","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","target","i","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","mapData","last","arr","reduce","obj","val","created_at","t","getTime","y","RealtimeChart","_ref","unit","props","endDate","Date","startDate","prevEndDate","chartData","pageviews","sessions","animationDuration","current","height","_path","toConsumableArray","useIntl","index_esm","Icon","Tag","Dot","FilterButtons","NoData","messages","useLocale","useCountryNames","_extends","assign","prototype","hasOwnProperty","call","visitor_path","bolt","xmlns","viewBox","visitor_extends","eye_path","visitor","eye_extends","_TYPE_ICONS","eye","lib_format","RealtimeLog_module","RealtimeLog_module_default","TYPE_ICONS","RealtimeLog","websites","websiteId","intl","_useLocale","locale","countryNames","setFilter","logs","events","sort","getType","uuids","_ref2","session_id","session_uuid","buttons","label","id","defaultMessage","value","_ref3","view_id","event_id","getIcon","getWebsite","_ref4","website_id","find","getDetail","_ref5","_intl$formatMessage","event_type","event_value","url","browser","os","country","device","children","_getWebsite","domain","className","href","rel","values","formatMessage","toLowerCase","_ref6","getColor","selected","onClick","itemCount","itemSize","_ref7","_getWebsite2","index","style","color","PageHeader","DropDown","MetricCard","RealtimeHeader_module","RealtimeHeader_module_default","RealtimeHeader","onSelect","options","map","name","divider","countries","onChange","WorldMap","DataTable","filters","RealtimeViews","domains","getDomain","_websites$","_websites$find","_useMemo","referrer","startsWith","hostname","URL","replace","includes","x","_url","_ref8","referrers","pages","title","metric","renderLabel","useFetch","RealtimeDashboard_module","RealtimeDashboard_module_default","RealtimeDashboard_ownKeys","RealtimeDashboard_objectSpread","mergeData","ids","__id","filterWebsite","RealtimeDashboard","_init$websites","setData","setWebsiteId","_useFetch","init","updates","params","start_at","timestamp","disabled","interval","headers","token","renderCountryName","realtimeData","_websites","_data","chart","records","xs","lg","j6IE","updateUser","_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__","initialState","reducers","action","payload","actions","j6bx","container"],"mappings":"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"},"name":"static/chunks/pages/realtime-95c82532ac0257b1a4c6.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[27],{\n\n/***/ \"0tU5\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/realtime\",\n      function () {\n        return __webpack_require__(\"caRh\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"IA1E\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return useRequireLogin; });\n/* harmony import */ var _Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var _Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"rg98\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var redux_actions_user__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"j6IE\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var lib_web__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"jeBt\");\n\n\n\n\n\n\n\nfunction useRequireLogin() {\n  var router = Object(next_router__WEBPACK_IMPORTED_MODULE_5__[\"useRouter\"])();\n  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[/* useDispatch */ \"b\"])();\n  var storeUser = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[/* useSelector */ \"c\"])(function (state) {\n    return state.user;\n  });\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(!storeUser),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(storeUser),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  function loadUser() {\n    return _loadUser.apply(this, arguments);\n  }\n\n  function _loadUser() {\n    _loadUser = Object(_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {\n      var _yield$get, ok, data;\n\n      return _Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.next = 3;\n              return Object(lib_web__WEBPACK_IMPORTED_MODULE_6__[/* get */ \"b\"])(\"\".concat(router.basePath, \"/api/auth/verify\"));\n\n            case 3:\n              _yield$get = _context.sent;\n              ok = _yield$get.ok;\n              data = _yield$get.data;\n\n              if (ok) {\n                _context.next = 8;\n                break;\n              }\n\n              return _context.abrupt(\"return\", router.push('/login'));\n\n            case 8:\n              _context.next = 10;\n              return dispatch(Object(redux_actions_user__WEBPACK_IMPORTED_MODULE_4__[/* updateUser */ \"b\"])(data));\n\n            case 10:\n              setUser(user);\n              setLoading(false);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _loadUser.apply(this, arguments);\n  }\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    if (!loading && user) {\n      return;\n    }\n\n    loadUser();\n  }, []);\n  return {\n    user: user,\n    loading: loading\n  };\n}\n\n/***/ }),\n\n/***/ \"POTn\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"metrics\":\"RealtimeHeader_metrics__3UCe2\"};\n\n/***/ }),\n\n/***/ \"cNLv\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"RealtimeLog_table__2Tl9b\",\"header\":\"RealtimeLog_header__2LeBZ\",\"row\":\"RealtimeLog_row__1a7u4\",\"body\":\"RealtimeLog_body__3dkV9\",\"icon\":\"RealtimeLog_icon__3aQPX\",\"time\":\"RealtimeLog_time__PHd3a\",\"website\":\"RealtimeLog_website__1eqHT\",\"detail\":\"RealtimeLog_detail__2LyTK\",\"link\":\"RealtimeLog_link__2ni65\"};\n\n/***/ }),\n\n/***/ \"caRh\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"default\", function() { return /* binding */ RealtimePage; });\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\n\n// EXTERNAL MODULE: ./components/layout/Layout.js + 12 modules\nvar Layout = __webpack_require__(\"80PL\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(\"cpVT\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(\"xvhg\");\n\n// EXTERNAL MODULE: ./node_modules/react-intl/lib/src/components/message.js\nvar message = __webpack_require__(\"kriW\");\n\n// EXTERNAL MODULE: ./node_modules/date-fns/esm/_lib/toInteger/index.js\nvar toInteger = __webpack_require__(\"/h9T\");\n\n// EXTERNAL MODULE: ./node_modules/date-fns/esm/addMinutes/index.js\nvar addMinutes = __webpack_require__(\"IYaI\");\n\n// EXTERNAL MODULE: ./node_modules/date-fns/esm/_lib/requiredArgs/index.js\nvar requiredArgs = __webpack_require__(\"jIYg\");\n\n// CONCATENATED MODULE: ./node_modules/date-fns/esm/subMinutes/index.js\n\n\n\n/**\n * @name subMinutes\n * @category Minute Helpers\n * @summary Subtract the specified number of minutes from the given date.\n *\n * @description\n * Subtract the specified number of minutes from the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of minutes to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the minutes subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 30 minutes from 10 July 2014 12:00:00:\n * const result = subMinutes(new Date(2014, 6, 10, 12, 0), 30)\n * //=> Thu Jul 10 2014 11:30:00\n */\n\nfunction subMinutes(dirtyDate, dirtyAmount) {\n  Object(requiredArgs[\"a\" /* default */])(2, arguments);\n  var amount = Object(toInteger[\"a\" /* default */])(dirtyAmount);\n  return Object(addMinutes[\"a\" /* default */])(dirtyDate, -amount);\n}\n// EXTERNAL MODULE: ./node_modules/date-fns/esm/startOfMinute/index.js\nvar startOfMinute = __webpack_require__(\"0LOL\");\n\n// EXTERNAL MODULE: ./node_modules/thenby/thenBy.module.js\nvar thenBy_module = __webpack_require__(\"zsrT\");\nvar thenBy_module_default = /*#__PURE__*/__webpack_require__.n(thenBy_module);\n\n// EXTERNAL MODULE: ./components/layout/Page.js\nvar Page = __webpack_require__(\"CUtM\");\n\n// EXTERNAL MODULE: ./components/layout/GridLayout.js\nvar GridLayout = __webpack_require__(\"FtD2\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(\"dhJC\");\n\n// EXTERNAL MODULE: ./node_modules/date-fns/esm/parseISO/index.js\nvar parseISO = __webpack_require__(\"4+6U\");\n\n// EXTERNAL MODULE: ./node_modules/date-fns/esm/format/index.js + 15 modules\nvar format = __webpack_require__(\"sWYD\");\n\n// EXTERNAL MODULE: ./node_modules/date-fns/esm/isBefore/index.js\nvar isBefore = __webpack_require__(\"dndX\");\n\n// EXTERNAL MODULE: ./components/metrics/PageviewsChart.js + 1 modules\nvar PageviewsChart = __webpack_require__(\"rqNM\");\n\n// EXTERNAL MODULE: ./lib/date.js + 22 modules\nvar date = __webpack_require__(\"rIuf\");\n\n// EXTERNAL MODULE: ./lib/constants.js\nvar constants = __webpack_require__(\"YSmr\");\n\n// CONCATENATED MODULE: ./components/metrics/RealtimeChart.js\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(defineProperty[\"a\" /* default */])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\nfunction mapData(data) {\n  var last = 0;\n  var arr = [];\n  data.reduce(function (obj, val) {\n    var created_at = val.created_at;\n    var t = Object(startOfMinute[\"a\" /* default */])(Object(parseISO[\"a\" /* default */])(created_at));\n\n    if (t.getTime() > last) {\n      obj = {\n        t: Object(format[\"a\" /* default */])(t, 'yyyy-LL-dd HH:mm:00'),\n        y: 1\n      };\n      arr.push(obj);\n      last = t;\n    } else {\n      obj.y += 1;\n    }\n\n    return obj;\n  }, {});\n  return arr;\n}\n\nfunction RealtimeChart(_ref) {\n  var data = _ref.data,\n      unit = _ref.unit,\n      props = Object(objectWithoutProperties[\"a\" /* default */])(_ref, [\"data\", \"unit\"]);\n\n  var endDate = Object(startOfMinute[\"a\" /* default */])(new Date());\n  var startDate = subMinutes(endDate, constants[\"n\" /* REALTIME_RANGE */]);\n  var prevEndDate = Object(react[\"useRef\"])(endDate);\n  var chartData = Object(react[\"useMemo\"])(function () {\n    if (data) {\n      return {\n        pageviews: Object(date[\"b\" /* getDateArray */])(mapData(data.pageviews), startDate, endDate, unit),\n        sessions: Object(date[\"b\" /* getDateArray */])(mapData(data.sessions), startDate, endDate, unit)\n      };\n    }\n\n    return {\n      pageviews: [],\n      sessions: []\n    };\n  }, [data]); // Don't animate the bars shifting over because it looks weird\n\n  var animationDuration = Object(react[\"useMemo\"])(function () {\n    if (Object(isBefore[\"a\" /* default */])(prevEndDate.current, endDate)) {\n      prevEndDate.current = endDate;\n      return 0;\n    }\n\n    return constants[\"c\" /* DEFAULT_ANIMATION_DURATION */];\n  }, [data]);\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PageviewsChart[\"a\" /* default */], _objectSpread(_objectSpread({}, props), {}, {\n    height: 200,\n    unit: unit,\n    data: chartData,\n    animationDuration: animationDuration\n  }));\n}\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(\"z7pX\");\n\n// EXTERNAL MODULE: ./node_modules/react-intl/lib/src/components/useIntl.js\nvar useIntl = __webpack_require__(\"dDsW\");\n\n// EXTERNAL MODULE: ./node_modules/react-window/dist/index.esm.js + 4 modules\nvar index_esm = __webpack_require__(\"iR1w\");\n\n// EXTERNAL MODULE: ./components/common/Icon.js\nvar Icon = __webpack_require__(\"atwx\");\n\n// EXTERNAL MODULE: ./components/common/Tag.js\nvar Tag = __webpack_require__(\"fFFQ\");\n\n// EXTERNAL MODULE: ./components/common/Dot.js\nvar Dot = __webpack_require__(\"ty6r\");\n\n// EXTERNAL MODULE: ./components/common/FilterButtons.js\nvar FilterButtons = __webpack_require__(\"2K+N\");\n\n// EXTERNAL MODULE: ./components/common/NoData.js\nvar NoData = __webpack_require__(\"ZzUg\");\n\n// EXTERNAL MODULE: ./components/messages.js\nvar messages = __webpack_require__(\"m/GJ\");\n\n// EXTERNAL MODULE: ./hooks/useLocale.js\nvar useLocale = __webpack_require__(\"nsFc\");\n\n// EXTERNAL MODULE: ./hooks/useCountryNames.js\nvar useCountryNames = __webpack_require__(\"LAde\");\n\n// CONCATENATED MODULE: ./assets/bolt.svg\nvar _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\nfunction SvgBolt(props) {\n  return /*#__PURE__*/react[\"createElement\"](\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 320 512\"\n  }, props), _path || (_path = /*#__PURE__*/react[\"createElement\"](\"path\", {\n    d: \"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z\"\n  })));\n}\n\n/* harmony default export */ var bolt = (SvgBolt);\n// CONCATENATED MODULE: ./assets/visitor.svg\nvar visitor_path;\n\nfunction visitor_extends() { visitor_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return visitor_extends.apply(this, arguments); }\n\n\n\nfunction SvgVisitor(props) {\n  return /*#__PURE__*/react[\"createElement\"](\"svg\", visitor_extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 448 512\"\n  }, props), visitor_path || (visitor_path = /*#__PURE__*/react[\"createElement\"](\"path\", {\n    d: \"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z\"\n  })));\n}\n\n/* harmony default export */ var visitor = (SvgVisitor);\n// CONCATENATED MODULE: ./assets/eye.svg\nvar eye_path;\n\nfunction eye_extends() { eye_extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return eye_extends.apply(this, arguments); }\n\n\n\nfunction SvgEye(props) {\n  return /*#__PURE__*/react[\"createElement\"](\"svg\", eye_extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 576 512\"\n  }, props), eye_path || (eye_path = /*#__PURE__*/react[\"createElement\"](\"path\", {\n    d: \"M288 144a110.94 110.94 0 00-31.24 5 55.4 55.4 0 017.24 27 56 56 0 01-56 56 55.4 55.4 0 01-27-7.24A111.71 111.71 0 10288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 000 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 000-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z\"\n  })));\n}\n\n/* harmony default export */ var eye = (SvgEye);\n// EXTERNAL MODULE: ./lib/format.js\nvar lib_format = __webpack_require__(\"GGPy\");\n\n// EXTERNAL MODULE: ./components/metrics/RealtimeLog.module.css\nvar RealtimeLog_module = __webpack_require__(\"cNLv\");\nvar RealtimeLog_module_default = /*#__PURE__*/__webpack_require__.n(RealtimeLog_module);\n\n// CONCATENATED MODULE: ./components/metrics/RealtimeLog.js\n\n\n\n\n\n\nvar _TYPE_ICONS;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar TYPE_ALL = 0;\nvar TYPE_PAGEVIEW = 1;\nvar TYPE_SESSION = 2;\nvar TYPE_EVENT = 3;\nvar TYPE_ICONS = (_TYPE_ICONS = {}, Object(defineProperty[\"a\" /* default */])(_TYPE_ICONS, TYPE_PAGEVIEW, /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(eye, {})), Object(defineProperty[\"a\" /* default */])(_TYPE_ICONS, TYPE_SESSION, /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(visitor, {})), Object(defineProperty[\"a\" /* default */])(_TYPE_ICONS, TYPE_EVENT, /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(bolt, {})), _TYPE_ICONS);\nfunction RealtimeLog(_ref) {\n  var data = _ref.data,\n      websites = _ref.websites,\n      websiteId = _ref.websiteId;\n  var intl = Object(useIntl[\"a\" /* default */])();\n\n  var _useLocale = Object(useLocale[\"a\" /* default */])(),\n      _useLocale2 = Object(slicedToArray[\"a\" /* default */])(_useLocale, 1),\n      locale = _useLocale2[0];\n\n  var countryNames = Object(useCountryNames[\"a\" /* default */])(locale);\n\n  var _useState = Object(react[\"useState\"])(TYPE_ALL),\n      filter = _useState[0],\n      setFilter = _useState[1];\n\n  var logs = Object(react[\"useMemo\"])(function () {\n    var pageviews = data.pageviews,\n        sessions = data.sessions,\n        events = data.events;\n    var logs = [].concat(Object(toConsumableArray[\"a\" /* default */])(pageviews), Object(toConsumableArray[\"a\" /* default */])(sessions), Object(toConsumableArray[\"a\" /* default */])(events)).sort(thenBy_module_default()('created_at', -1));\n\n    if (filter) {\n      return logs.filter(function (row) {\n        return getType(row) === filter;\n      });\n    }\n\n    return logs;\n  }, [data, filter]);\n  var uuids = Object(react[\"useMemo\"])(function () {\n    return data.sessions.reduce(function (obj, _ref2) {\n      var session_id = _ref2.session_id,\n          session_uuid = _ref2.session_uuid;\n      obj[session_id] = session_uuid;\n      return obj;\n    }, {});\n  }, [data]);\n  var buttons = [{\n    label: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n      id: \"label.all\",\n      defaultMessage: \"All\"\n    }),\n    value: TYPE_ALL\n  }, {\n    label: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n      id: \"metrics.views\",\n      defaultMessage: \"Views\"\n    }),\n    value: TYPE_PAGEVIEW\n  }, {\n    label: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n      id: \"metrics.visitors\",\n      defaultMessage: \"Visitors\"\n    }),\n    value: TYPE_SESSION\n  }, {\n    label: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n      id: \"metrics.events\",\n      defaultMessage: \"Events\"\n    }),\n    value: TYPE_EVENT\n  }];\n\n  function getType(_ref3) {\n    var view_id = _ref3.view_id,\n        session_id = _ref3.session_id,\n        event_id = _ref3.event_id;\n\n    if (event_id) {\n      return TYPE_EVENT;\n    }\n\n    if (view_id) {\n      return TYPE_PAGEVIEW;\n    }\n\n    if (session_id) {\n      return TYPE_SESSION;\n    }\n\n    return null;\n  }\n\n  function getIcon(row) {\n    return TYPE_ICONS[getType(row)];\n  }\n\n  function getWebsite(_ref4) {\n    var website_id = _ref4.website_id;\n    return websites.find(function (n) {\n      return n.website_id === website_id;\n    });\n  }\n\n  function getDetail(_ref5) {\n    var event_type = _ref5.event_type,\n        event_value = _ref5.event_value,\n        view_id = _ref5.view_id,\n        session_id = _ref5.session_id,\n        url = _ref5.url,\n        browser = _ref5.browser,\n        os = _ref5.os,\n        country = _ref5.country,\n        device = _ref5.device,\n        website_id = _ref5.website_id;\n\n    if (event_type) {\n      return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n        children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Tag[\"a\" /* default */], {\n          children: event_type\n        }), \" \", event_value]\n      });\n    }\n\n    if (view_id) {\n      var _getWebsite;\n\n      var domain = (_getWebsite = getWebsite({\n        website_id: website_id\n      })) === null || _getWebsite === void 0 ? void 0 : _getWebsite.domain;\n      return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\", {\n        className: RealtimeLog_module_default.a.link,\n        href: \"//\".concat(domain).concat(url),\n        target: \"_blank\",\n        rel: \"noreferrer noopener\",\n        children: url\n      });\n    }\n\n    if (session_id) {\n      var _intl$formatMessage;\n\n      return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n        id: \"message.log.visitor\",\n        defaultMessage: \"Visitor from {country} using {browser} on {os} {device}\",\n        values: {\n          country: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\", {\n            children: countryNames[country] || intl.formatMessage({\n              id: 'label.unknown',\n              defaultMessage: 'Unknown'\n            })\n          }),\n          browser: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\", {\n            children: constants[\"a\" /* BROWSERS */][browser]\n          }),\n          os: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\", {\n            children: os\n          }),\n          device: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\", {\n            children: (_intl$formatMessage = intl.formatMessage(messages[\"a\" /* devices */][device])) === null || _intl$formatMessage === void 0 ? void 0 : _intl$formatMessage.toLowerCase()\n          })\n        }\n      });\n    }\n  }\n\n  function getTime(_ref6) {\n    var created_at = _ref6.created_at;\n    return Object(date[\"a\" /* dateFormat */])(new Date(created_at), 'pp', locale);\n  }\n\n  function getColor(row) {\n    var session_id = row.session_id;\n    return Object(lib_format[\"d\" /* stringToColor */])(uuids[session_id] || \"\".concat(session_id).concat(getWebsite(row)));\n  }\n\n  var Row = function Row(_ref7) {\n    var _getWebsite2;\n\n    var index = _ref7.index,\n        style = _ref7.style;\n    var row = logs[index];\n    return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n      className: RealtimeLog_module_default.a.row,\n      style: style,\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n        children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dot[\"a\" /* default */], {\n          color: getColor(row)\n        })\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n        className: RealtimeLog_module_default.a.time,\n        children: getTime(row)\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n        className: RealtimeLog_module_default.a.detail,\n        children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */], {\n          className: RealtimeLog_module_default.a.icon,\n          icon: getIcon(row)\n        }), getDetail(row)]\n      }), !websiteId && websites.length > 1 && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n        className: RealtimeLog_module_default.a.website,\n        children: (_getWebsite2 = getWebsite(row)) === null || _getWebsite2 === void 0 ? void 0 : _getWebsite2.domain\n      })]\n    });\n  };\n\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n    className: RealtimeLog_module_default.a.table,\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FilterButtons[\"a\" /* default */], {\n      buttons: buttons,\n      selected: filter,\n      onClick: setFilter\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n      className: RealtimeLog_module_default.a.header,\n      children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n        id: \"label.realtime-logs\",\n        defaultMessage: \"Realtime logs\"\n      })\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n      className: RealtimeLog_module_default.a.body,\n      children: [(logs === null || logs === void 0 ? void 0 : logs.length) === 0 && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NoData[\"a\" /* default */], {}), (logs === null || logs === void 0 ? void 0 : logs.length) > 0 && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"a\" /* FixedSizeList */], {\n        height: 400,\n        itemCount: logs.length,\n        itemSize: 40,\n        children: Row\n      })]\n    })]\n  });\n}\n// EXTERNAL MODULE: ./components/layout/PageHeader.js\nvar PageHeader = __webpack_require__(\"tfvX\");\n\n// EXTERNAL MODULE: ./components/common/DropDown.js\nvar DropDown = __webpack_require__(\"dB/W\");\n\n// EXTERNAL MODULE: ./components/metrics/MetricCard.js\nvar MetricCard = __webpack_require__(\"NgRG\");\n\n// EXTERNAL MODULE: ./components/metrics/RealtimeHeader.module.css\nvar RealtimeHeader_module = __webpack_require__(\"POTn\");\nvar RealtimeHeader_module_default = /*#__PURE__*/__webpack_require__.n(RealtimeHeader_module);\n\n// CONCATENATED MODULE: ./components/metrics/RealtimeHeader.js\n\n\n\n\n\n\n\n\n\nfunction RealtimeHeader(_ref) {\n  var websites = _ref.websites,\n      data = _ref.data,\n      websiteId = _ref.websiteId,\n      onSelect = _ref.onSelect;\n  var options = [{\n    label: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n      id: \"label.all-websites\",\n      defaultMessage: \"All websites\"\n    }),\n    value: 0\n  }].concat(websites.map(function (_ref2, index) {\n    var name = _ref2.name,\n        website_id = _ref2.website_id;\n    return {\n      label: name,\n      value: website_id,\n      divider: index === 0\n    };\n  }));\n  var pageviews = data.pageviews,\n      sessions = data.sessions,\n      events = data.events,\n      countries = data.countries;\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"], {\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(PageHeader[\"a\" /* default */], {\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n        children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n          id: \"label.realtime\",\n          defaultMessage: \"Realtime\"\n        })\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DropDown[\"a\" /* default */], {\n        value: websiteId,\n        options: options,\n        onChange: onSelect\n      })]\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n      className: RealtimeHeader_module_default.a.metrics,\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MetricCard[\"a\" /* default */], {\n        label: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n          id: \"metrics.views\",\n          defaultMessage: \"Views\"\n        }),\n        value: pageviews.length\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MetricCard[\"a\" /* default */], {\n        label: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n          id: \"metrics.visitors\",\n          defaultMessage: \"Visitors\"\n        }),\n        value: sessions.length\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MetricCard[\"a\" /* default */], {\n        label: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n          id: \"metrics.events\",\n          defaultMessage: \"Events\"\n        }),\n        value: events.length\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MetricCard[\"a\" /* default */], {\n        label: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n          id: \"metrics.countries\",\n          defaultMessage: \"Countries\"\n        }),\n        value: countries.length\n      })]\n    })]\n  });\n}\n// EXTERNAL MODULE: ./components/common/WorldMap.js\nvar WorldMap = __webpack_require__(\"sjKz\");\n\n// EXTERNAL MODULE: ./components/metrics/DataTable.js\nvar DataTable = __webpack_require__(\"vX6h\");\n\n// EXTERNAL MODULE: ./lib/filters.js\nvar filters = __webpack_require__(\"GyfN\");\n\n// CONCATENATED MODULE: ./components/metrics/RealtimeViews.js\n\n\n\n\n\n\n\n\n\nvar FILTER_REFERRERS = 0;\nvar FILTER_PAGES = 1;\nfunction RealtimeViews(_ref) {\n  var websiteId = _ref.websiteId,\n      data = _ref.data,\n      websites = _ref.websites;\n  var pageviews = data.pageviews;\n\n  var _useState = Object(react[\"useState\"])(FILTER_REFERRERS),\n      filter = _useState[0],\n      setFilter = _useState[1];\n\n  var domains = Object(react[\"useMemo\"])(function () {\n    return websites.map(function (_ref2) {\n      var domain = _ref2.domain;\n      return domain;\n    });\n  }, [websites]);\n  var getDomain = Object(react[\"useCallback\"])(function (id) {\n    var _websites$, _websites$find;\n\n    return websites.length === 1 ? (_websites$ = websites[0]) === null || _websites$ === void 0 ? void 0 : _websites$.domain : (_websites$find = websites.find(function (_ref3) {\n      var website_id = _ref3.website_id;\n      return website_id === id;\n    })) === null || _websites$find === void 0 ? void 0 : _websites$find.domain;\n  }, [websites]);\n  var buttons = [{\n    label: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n      id: \"metrics.referrers\",\n      defaultMessage: \"Referrers\"\n    }),\n    value: FILTER_REFERRERS\n  }, {\n    label: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n      id: \"metrics.pages\",\n      defaultMessage: \"Pages\"\n    }),\n    value: FILTER_PAGES\n  }];\n\n  var renderLink = function renderLink(_ref4) {\n    var x = _ref4.x;\n    var domain = x.startsWith('/') ? getDomain(websiteId) : '';\n    return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\", {\n      href: \"//\".concat(domain).concat(x),\n      target: \"_blank\",\n      rel: \"noreferrer noopener\",\n      children: x\n    });\n  };\n\n  var _useMemo = Object(react[\"useMemo\"])(function () {\n    if (pageviews) {\n      var _referrers = Object(filters[\"c\" /* percentFilter */])(pageviews.reduce(function (arr, _ref5) {\n        var referrer = _ref5.referrer;\n\n        if (referrer !== null && referrer !== void 0 && referrer.startsWith('http')) {\n          var hostname = new URL(referrer).hostname.replace(/^www\\./, '');\n\n          if (hostname && !domains.includes(hostname)) {\n            var row = arr.find(function (_ref6) {\n              var x = _ref6.x;\n              return x === hostname;\n            });\n\n            if (!row) {\n              arr.push({\n                x: hostname,\n                y: 1\n              });\n            } else {\n              row.y += 1;\n            }\n          }\n        }\n\n        return arr;\n      }, []).sort(thenBy_module_default()('y', -1)));\n\n      var _pages = Object(filters[\"c\" /* percentFilter */])(pageviews.reduce(function (arr, _ref7) {\n        var _url;\n\n        var url = _ref7.url,\n            website_id = _ref7.website_id;\n\n        if ((_url = url) !== null && _url !== void 0 && _url.startsWith('/')) {\n          if (!websiteId && websites.length > 1) {\n            url = \"\".concat(getDomain(website_id)).concat(url);\n          }\n\n          var row = arr.find(function (_ref8) {\n            var x = _ref8.x;\n            return x === url;\n          });\n\n          if (!row) {\n            arr.push({\n              x: url,\n              y: 1\n            });\n          } else {\n            row.y += 1;\n          }\n        }\n\n        return arr;\n      }, []).sort(thenBy_module_default()('y', -1)));\n\n      return [_referrers, _pages];\n    }\n\n    return [];\n  }, [pageviews]),\n      referrers = _useMemo[0],\n      pages = _useMemo[1];\n\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"], {\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FilterButtons[\"a\" /* default */], {\n      buttons: buttons,\n      selected: filter,\n      onClick: setFilter\n    }), filter === FILTER_REFERRERS && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DataTable[\"a\" /* default */], {\n      title: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n        id: \"metrics.referrers\",\n        defaultMessage: \"Referrers\"\n      }),\n      metric: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n        id: \"metrics.views\",\n        defaultMessage: \"Views\"\n      }),\n      data: referrers,\n      height: 400\n    }), filter === FILTER_PAGES && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DataTable[\"a\" /* default */], {\n      title: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n        id: \"metrics.pages\",\n        defaultMessage: \"Pages\"\n      }),\n      metric: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n        id: \"metrics.views\",\n        defaultMessage: \"Views\"\n      }),\n      renderLabel: renderLink,\n      data: pages,\n      height: 400\n    })]\n  });\n}\n// EXTERNAL MODULE: ./hooks/useFetch.js\nvar useFetch = __webpack_require__(\"0Kmt\");\n\n// EXTERNAL MODULE: ./components/pages/RealtimeDashboard.module.css\nvar RealtimeDashboard_module = __webpack_require__(\"j6bx\");\nvar RealtimeDashboard_module_default = /*#__PURE__*/__webpack_require__.n(RealtimeDashboard_module);\n\n// CONCATENATED MODULE: ./components/pages/RealtimeDashboard.js\n\n\n\n\n\nfunction RealtimeDashboard_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction RealtimeDashboard_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { RealtimeDashboard_ownKeys(Object(source), true).forEach(function (key) { Object(defineProperty[\"a\" /* default */])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { RealtimeDashboard_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction mergeData(state, data, time) {\n  var ids = state.map(function (_ref) {\n    var __id = _ref.__id;\n    return __id;\n  });\n  return state.concat(data.filter(function (_ref2) {\n    var __id = _ref2.__id;\n    return !ids.includes(__id);\n  })).filter(function (_ref3) {\n    var created_at = _ref3.created_at;\n    return new Date(created_at).getTime() >= time;\n  });\n}\n\nfunction filterWebsite(data, id) {\n  return data.filter(function (_ref4) {\n    var website_id = _ref4.website_id;\n    return website_id === id;\n  });\n}\n\nfunction RealtimeDashboard() {\n  var _init$websites;\n\n  var _useLocale = Object(useLocale[\"a\" /* default */])(),\n      _useLocale2 = Object(slicedToArray[\"a\" /* default */])(_useLocale, 1),\n      locale = _useLocale2[0];\n\n  var countryNames = Object(useCountryNames[\"a\" /* default */])(locale);\n\n  var _useState = Object(react[\"useState\"])(),\n      data = _useState[0],\n      setData = _useState[1];\n\n  var _useState2 = Object(react[\"useState\"])(0),\n      websiteId = _useState2[0],\n      setWebsiteId = _useState2[1];\n\n  var _useFetch = Object(useFetch[\"a\" /* default */])('/api/realtime/init'),\n      init = _useFetch.data,\n      loading = _useFetch.loading;\n\n  var _useFetch2 = Object(useFetch[\"a\" /* default */])('/api/realtime/update', {\n    params: {\n      start_at: data === null || data === void 0 ? void 0 : data.timestamp\n    },\n    disabled: !(init !== null && init !== void 0 && (_init$websites = init.websites) !== null && _init$websites !== void 0 && _init$websites.length) || !data,\n    interval: constants[\"m\" /* REALTIME_INTERVAL */],\n    headers: Object(defineProperty[\"a\" /* default */])({}, constants[\"r\" /* TOKEN_HEADER */], init === null || init === void 0 ? void 0 : init.token)\n  }),\n      updates = _useFetch2.data;\n\n  var renderCountryName = Object(react[\"useCallback\"])(function (_ref5) {\n    var x = _ref5.x;\n    return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\", {\n      className: locale,\n      children: countryNames[x]\n    });\n  }, [countryNames]);\n  var realtimeData = Object(react[\"useMemo\"])(function () {\n    if (data) {\n      var pageviews = data.pageviews,\n          sessions = data.sessions,\n          events = data.events;\n\n      if (websiteId) {\n        return {\n          pageviews: filterWebsite(pageviews, websiteId),\n          sessions: filterWebsite(sessions, websiteId),\n          events: filterWebsite(events, websiteId)\n        };\n      }\n    }\n\n    return data;\n  }, [data, websiteId]);\n  var countries = Object(react[\"useMemo\"])(function () {\n    if (realtimeData !== null && realtimeData !== void 0 && realtimeData.sessions) {\n      return Object(filters[\"c\" /* percentFilter */])(realtimeData.sessions.reduce(function (arr, _ref6) {\n        var country = _ref6.country;\n\n        if (country) {\n          var row = arr.find(function (_ref7) {\n            var x = _ref7.x;\n            return x === country;\n          });\n\n          if (!row) {\n            arr.push({\n              x: country,\n              y: 1\n            });\n          } else {\n            row.y += 1;\n          }\n        }\n\n        return arr;\n      }, []).sort(thenBy_module_default()('y', -1)));\n    }\n\n    return [];\n  }, [realtimeData === null || realtimeData === void 0 ? void 0 : realtimeData.sessions]);\n  Object(react[\"useEffect\"])(function () {\n    if (init && !data) {\n      var _websites = init.websites,\n          _data = init.data;\n      setData(RealtimeDashboard_objectSpread({\n        websites: _websites\n      }, _data));\n    }\n  }, [init]);\n  Object(react[\"useEffect\"])(function () {\n    if (updates) {\n      var pageviews = updates.pageviews,\n          sessions = updates.sessions,\n          events = updates.events,\n          timestamp = updates.timestamp;\n      var time = subMinutes(Object(startOfMinute[\"a\" /* default */])(new Date()), constants[\"n\" /* REALTIME_RANGE */]).getTime();\n      setData(function (state) {\n        return RealtimeDashboard_objectSpread(RealtimeDashboard_objectSpread({}, state), {}, {\n          pageviews: mergeData(state.pageviews, pageviews, time),\n          sessions: mergeData(state.sessions, sessions, time),\n          events: mergeData(state.events, events, time),\n          timestamp: timestamp\n        });\n      });\n    }\n  }, [updates]);\n\n  if (!init || !data || loading) {\n    return null;\n  }\n\n  var websites = data.websites;\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Page[\"a\" /* default */], {\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RealtimeHeader, {\n      websites: websites,\n      websiteId: websiteId,\n      data: RealtimeDashboard_objectSpread(RealtimeDashboard_objectSpread({}, realtimeData), {}, {\n        countries: countries\n      }),\n      onSelect: setWebsiteId\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n      className: RealtimeDashboard_module_default.a.chart,\n      children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RealtimeChart, {\n        websiteId: websiteId,\n        data: realtimeData,\n        unit: \"minute\",\n        records: constants[\"n\" /* REALTIME_RANGE */]\n      })\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(GridLayout[\"c\" /* default */], {\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(GridLayout[\"b\" /* GridRow */], {\n        children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GridLayout[\"a\" /* GridColumn */], {\n          xs: 12,\n          lg: 4,\n          children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RealtimeViews, {\n            websiteId: websiteId,\n            data: realtimeData,\n            websites: websites\n          })\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GridLayout[\"a\" /* GridColumn */], {\n          xs: 12,\n          lg: 8,\n          children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RealtimeLog, {\n            websiteId: websiteId,\n            data: realtimeData,\n            websites: websites\n          })\n        })]\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(GridLayout[\"b\" /* GridRow */], {\n        children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GridLayout[\"a\" /* GridColumn */], {\n          xs: 12,\n          lg: 4,\n          children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DataTable[\"a\" /* default */], {\n            title: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n              id: \"metrics.countries\",\n              defaultMessage: \"Countries\"\n            }),\n            metric: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n              id: \"metrics.visitors\",\n              defaultMessage: \"Visitors\"\n            }),\n            data: countries,\n            renderLabel: renderCountryName,\n            height: 500\n          })\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GridLayout[\"a\" /* GridColumn */], {\n          xs: 12,\n          lg: 8,\n          children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WorldMap[\"a\" /* default */], {\n            data: countries\n          })\n        })]\n      })]\n    })]\n  });\n}\n// EXTERNAL MODULE: ./hooks/useRequireLogin.js\nvar useRequireLogin = __webpack_require__(\"IA1E\");\n\n// CONCATENATED MODULE: ./pages/realtime.js\n\n\n\n\n\nfunction RealtimePage() {\n  var _useRequireLogin = Object(useRequireLogin[\"a\" /* default */])(),\n      loading = _useRequireLogin.loading;\n\n  if (loading) {\n    return null;\n  }\n\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Layout[\"a\" /* default */], {\n    children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RealtimeDashboard, {})\n  });\n}\n\n/***/ }),\n\n/***/ \"j6IE\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return updateUser; });\n/* harmony import */ var _reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"i7Pf\");\n\nvar user = Object(_reduxjs_toolkit__WEBPACK_IMPORTED_MODULE_0__[/* createSlice */ \"b\"])({\n  name: 'user',\n  initialState: null,\n  reducers: {\n    updateUser: function updateUser(state, action) {\n      state = action.payload;\n      return state;\n    }\n  }\n});\nvar updateUser = user.actions.updateUser;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (user.reducer);\n\n/***/ }),\n\n/***/ \"j6bx\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"RealtimeDashboard_container__1ZLx1\",\"chart\":\"RealtimeDashboard_chart__1LaXv\"};\n\n/***/ })\n\n},[[\"0tU5\",0,2,6,8,11,1,3,4,5,7,12,15]]]);","inputSourceMap":{"version":3,"sources":["/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Frealtime&absolutePagePath=private-next-pages%2Frealtime.js!","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/hooks/useRequireLogin.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/plugins/mini-css-extract-plugin/src/loader.js??ref--5-oneOf-2-0!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/compiled/css-loader/cjs.js??ref--5-oneOf-2-1!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/compiled/postcss-loader/cjs.js??ref--5-oneOf-2-2!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/metrics/RealtimeHeader.module.css","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/plugins/mini-css-extract-plugin/src/loader.js??ref--5-oneOf-2-0!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/compiled/css-loader/cjs.js??ref--5-oneOf-2-1!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/compiled/postcss-loader/cjs.js??ref--5-oneOf-2-2!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/metrics/RealtimeLog.module.css","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/date-fns/esm/subMinutes/index.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/metrics/RealtimeChart.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/@svgr/webpack/lib/index.js!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/assets/bolt.svg","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/@svgr/webpack/lib/index.js!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/assets/visitor.svg","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/@svgr/webpack/lib/index.js!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/assets/eye.svg","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/metrics/RealtimeLog.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/metrics/RealtimeHeader.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/metrics/RealtimeViews.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/pages/RealtimeDashboard.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/pages/realtime.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/redux/actions/user.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/plugins/mini-css-extract-plugin/src/loader.js??ref--5-oneOf-2-0!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/compiled/css-loader/cjs.js??ref--5-oneOf-2-1!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/compiled/postcss-loader/cjs.js??ref--5-oneOf-2-2!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/pages/RealtimeDashboard.module.css"],"names":[],"mappings":"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","file":"x","sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/realtime\",\n      function () {\n        return require(\"private-next-pages/realtime.js\");\n      }\n    ]);\n  ","import _regeneratorRuntime from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { updateUser } from 'redux/actions/user';\nimport { useRouter } from 'next/router';\nimport { get } from 'lib/web';\nexport default function useRequireLogin() {\n  var router = useRouter();\n  var dispatch = useDispatch();\n  var storeUser = useSelector(function (state) {\n    return state.user;\n  });\n\n  var _useState = useState(!storeUser),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var _useState2 = useState(storeUser),\n      user = _useState2[0],\n      setUser = _useState2[1];\n\n  function loadUser() {\n    return _loadUser.apply(this, arguments);\n  }\n\n  function _loadUser() {\n    _loadUser = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _yield$get, ok, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.next = 3;\n              return get(\"\".concat(router.basePath, \"/api/auth/verify\"));\n\n            case 3:\n              _yield$get = _context.sent;\n              ok = _yield$get.ok;\n              data = _yield$get.data;\n\n              if (ok) {\n                _context.next = 8;\n                break;\n              }\n\n              return _context.abrupt(\"return\", router.push('/login'));\n\n            case 8:\n              _context.next = 10;\n              return dispatch(updateUser(data));\n\n            case 10:\n              setUser(user);\n              setLoading(false);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _loadUser.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    if (!loading && user) {\n      return;\n    }\n\n    loadUser();\n  }, []);\n  return {\n    user: user,\n    loading: loading\n  };\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"metrics\":\"RealtimeHeader_metrics__3UCe2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"RealtimeLog_table__2Tl9b\",\"header\":\"RealtimeLog_header__2LeBZ\",\"row\":\"RealtimeLog_row__1a7u4\",\"body\":\"RealtimeLog_body__3dkV9\",\"icon\":\"RealtimeLog_icon__3aQPX\",\"time\":\"RealtimeLog_time__PHd3a\",\"website\":\"RealtimeLog_website__1eqHT\",\"detail\":\"RealtimeLog_detail__2LyTK\",\"link\":\"RealtimeLog_link__2ni65\"};","import toInteger from \"../_lib/toInteger/index.js\";\nimport addMinutes from \"../addMinutes/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name subMinutes\n * @category Minute Helpers\n * @summary Subtract the specified number of minutes from the given date.\n *\n * @description\n * Subtract the specified number of minutes from the given date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the date to be changed\n * @param {Number} amount - the amount of minutes to be subtracted. Positive decimals will be rounded using `Math.floor`, decimals less than zero will be rounded using `Math.ceil`.\n * @returns {Date} the new date with the minutes subtracted\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Subtract 30 minutes from 10 July 2014 12:00:00:\n * const result = subMinutes(new Date(2014, 6, 10, 12, 0), 30)\n * //=> Thu Jul 10 2014 11:30:00\n */\n\nexport default function subMinutes(dirtyDate, dirtyAmount) {\n  requiredArgs(2, arguments);\n  var amount = toInteger(dirtyAmount);\n  return addMinutes(dirtyDate, -amount);\n}","import _defineProperty from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _objectWithoutProperties from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useMemo, useRef } from 'react';\nimport { format, parseISO, startOfMinute, subMinutes, isBefore } from 'date-fns';\nimport PageviewsChart from './PageviewsChart';\nimport { getDateArray } from 'lib/date';\nimport { DEFAULT_ANIMATION_DURATION, REALTIME_RANGE } from 'lib/constants';\n\nfunction mapData(data) {\n  var last = 0;\n  var arr = [];\n  data.reduce(function (obj, val) {\n    var created_at = val.created_at;\n    var t = startOfMinute(parseISO(created_at));\n\n    if (t.getTime() > last) {\n      obj = {\n        t: format(t, 'yyyy-LL-dd HH:mm:00'),\n        y: 1\n      };\n      arr.push(obj);\n      last = t;\n    } else {\n      obj.y += 1;\n    }\n\n    return obj;\n  }, {});\n  return arr;\n}\n\nexport default function RealtimeChart(_ref) {\n  var data = _ref.data,\n      unit = _ref.unit,\n      props = _objectWithoutProperties(_ref, [\"data\", \"unit\"]);\n\n  var endDate = startOfMinute(new Date());\n  var startDate = subMinutes(endDate, REALTIME_RANGE);\n  var prevEndDate = useRef(endDate);\n  var chartData = useMemo(function () {\n    if (data) {\n      return {\n        pageviews: getDateArray(mapData(data.pageviews), startDate, endDate, unit),\n        sessions: getDateArray(mapData(data.sessions), startDate, endDate, unit)\n      };\n    }\n\n    return {\n      pageviews: [],\n      sessions: []\n    };\n  }, [data]); // Don't animate the bars shifting over because it looks weird\n\n  var animationDuration = useMemo(function () {\n    if (isBefore(prevEndDate.current, endDate)) {\n      prevEndDate.current = endDate;\n      return 0;\n    }\n\n    return DEFAULT_ANIMATION_DURATION;\n  }, [data]);\n  return /*#__PURE__*/_jsx(PageviewsChart, _objectSpread(_objectSpread({}, props), {}, {\n    height: 200,\n    unit: unit,\n    data: chartData,\n    animationDuration: animationDuration\n  }));\n}","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgBolt(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 320 512\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M296 160H180.6l42.6-129.8C227.2 15 215.7 0 200 0H56C44 0 33.8 8.9 32.2 20.8l-32 240C-1.7 275.2 9.5 288 24 288h118.7L96.6 482.5c-3.6 15.2 8 29.5 23.3 29.5 8.4 0 16.4-4.4 20.8-12l176-304c9.3-15.9-2.2-36-20.7-36z\"\n  })));\n}\n\nexport default SvgBolt;","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgVisitor(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 448 512\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z\"\n  })));\n}\n\nexport default SvgVisitor;","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgEye(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 576 512\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M288 144a110.94 110.94 0 00-31.24 5 55.4 55.4 0 017.24 27 56 56 0 01-56 56 55.4 55.4 0 01-27-7.24A111.71 111.71 0 10288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 000 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 000-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z\"\n  })));\n}\n\nexport default SvgEye;","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _toConsumableArray from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar _TYPE_ICONS;\n\nimport React, { useMemo, useState } from 'react';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { FixedSizeList } from 'react-window';\nimport firstBy from 'thenby';\nimport Icon from 'components/common/Icon';\nimport Tag from 'components/common/Tag';\nimport Dot from 'components/common/Dot';\nimport FilterButtons from 'components/common/FilterButtons';\nimport NoData from 'components/common/NoData';\nimport { devices } from 'components/messages';\nimport useLocale from 'hooks/useLocale';\nimport useCountryNames from 'hooks/useCountryNames';\nimport { BROWSERS } from 'lib/constants';\nimport Bolt from 'assets/bolt.svg';\nimport Visitor from 'assets/visitor.svg';\nimport Eye from 'assets/eye.svg';\nimport { stringToColor } from 'lib/format';\nimport { dateFormat } from 'lib/date';\nimport styles from './RealtimeLog.module.css';\nvar TYPE_ALL = 0;\nvar TYPE_PAGEVIEW = 1;\nvar TYPE_SESSION = 2;\nvar TYPE_EVENT = 3;\nvar TYPE_ICONS = (_TYPE_ICONS = {}, _defineProperty(_TYPE_ICONS, TYPE_PAGEVIEW, /*#__PURE__*/_jsx(Eye, {})), _defineProperty(_TYPE_ICONS, TYPE_SESSION, /*#__PURE__*/_jsx(Visitor, {})), _defineProperty(_TYPE_ICONS, TYPE_EVENT, /*#__PURE__*/_jsx(Bolt, {})), _TYPE_ICONS);\nexport default function RealtimeLog(_ref) {\n  var data = _ref.data,\n      websites = _ref.websites,\n      websiteId = _ref.websiteId;\n  var intl = useIntl();\n\n  var _useLocale = useLocale(),\n      _useLocale2 = _slicedToArray(_useLocale, 1),\n      locale = _useLocale2[0];\n\n  var countryNames = useCountryNames(locale);\n\n  var _useState = useState(TYPE_ALL),\n      filter = _useState[0],\n      setFilter = _useState[1];\n\n  var logs = useMemo(function () {\n    var pageviews = data.pageviews,\n        sessions = data.sessions,\n        events = data.events;\n    var logs = [].concat(_toConsumableArray(pageviews), _toConsumableArray(sessions), _toConsumableArray(events)).sort(firstBy('created_at', -1));\n\n    if (filter) {\n      return logs.filter(function (row) {\n        return getType(row) === filter;\n      });\n    }\n\n    return logs;\n  }, [data, filter]);\n  var uuids = useMemo(function () {\n    return data.sessions.reduce(function (obj, _ref2) {\n      var session_id = _ref2.session_id,\n          session_uuid = _ref2.session_uuid;\n      obj[session_id] = session_uuid;\n      return obj;\n    }, {});\n  }, [data]);\n  var buttons = [{\n    label: /*#__PURE__*/_jsx(FormattedMessage, {\n      id: \"label.all\",\n      defaultMessage: \"All\"\n    }),\n    value: TYPE_ALL\n  }, {\n    label: /*#__PURE__*/_jsx(FormattedMessage, {\n      id: \"metrics.views\",\n      defaultMessage: \"Views\"\n    }),\n    value: TYPE_PAGEVIEW\n  }, {\n    label: /*#__PURE__*/_jsx(FormattedMessage, {\n      id: \"metrics.visitors\",\n      defaultMessage: \"Visitors\"\n    }),\n    value: TYPE_SESSION\n  }, {\n    label: /*#__PURE__*/_jsx(FormattedMessage, {\n      id: \"metrics.events\",\n      defaultMessage: \"Events\"\n    }),\n    value: TYPE_EVENT\n  }];\n\n  function getType(_ref3) {\n    var view_id = _ref3.view_id,\n        session_id = _ref3.session_id,\n        event_id = _ref3.event_id;\n\n    if (event_id) {\n      return TYPE_EVENT;\n    }\n\n    if (view_id) {\n      return TYPE_PAGEVIEW;\n    }\n\n    if (session_id) {\n      return TYPE_SESSION;\n    }\n\n    return null;\n  }\n\n  function getIcon(row) {\n    return TYPE_ICONS[getType(row)];\n  }\n\n  function getWebsite(_ref4) {\n    var website_id = _ref4.website_id;\n    return websites.find(function (n) {\n      return n.website_id === website_id;\n    });\n  }\n\n  function getDetail(_ref5) {\n    var event_type = _ref5.event_type,\n        event_value = _ref5.event_value,\n        view_id = _ref5.view_id,\n        session_id = _ref5.session_id,\n        url = _ref5.url,\n        browser = _ref5.browser,\n        os = _ref5.os,\n        country = _ref5.country,\n        device = _ref5.device,\n        website_id = _ref5.website_id;\n\n    if (event_type) {\n      return /*#__PURE__*/_jsxs(\"div\", {\n        children: [/*#__PURE__*/_jsx(Tag, {\n          children: event_type\n        }), \" \", event_value]\n      });\n    }\n\n    if (view_id) {\n      var _getWebsite;\n\n      var domain = (_getWebsite = getWebsite({\n        website_id: website_id\n      })) === null || _getWebsite === void 0 ? void 0 : _getWebsite.domain;\n      return /*#__PURE__*/_jsx(\"a\", {\n        className: styles.link,\n        href: \"//\".concat(domain).concat(url),\n        target: \"_blank\",\n        rel: \"noreferrer noopener\",\n        children: url\n      });\n    }\n\n    if (session_id) {\n      var _intl$formatMessage;\n\n      return /*#__PURE__*/_jsx(FormattedMessage, {\n        id: \"message.log.visitor\",\n        defaultMessage: \"Visitor from {country} using {browser} on {os} {device}\",\n        values: {\n          country: /*#__PURE__*/_jsx(\"b\", {\n            children: countryNames[country] || intl.formatMessage({\n              id: 'label.unknown',\n              defaultMessage: 'Unknown'\n            })\n          }),\n          browser: /*#__PURE__*/_jsx(\"b\", {\n            children: BROWSERS[browser]\n          }),\n          os: /*#__PURE__*/_jsx(\"b\", {\n            children: os\n          }),\n          device: /*#__PURE__*/_jsx(\"b\", {\n            children: (_intl$formatMessage = intl.formatMessage(devices[device])) === null || _intl$formatMessage === void 0 ? void 0 : _intl$formatMessage.toLowerCase()\n          })\n        }\n      });\n    }\n  }\n\n  function getTime(_ref6) {\n    var created_at = _ref6.created_at;\n    return dateFormat(new Date(created_at), 'pp', locale);\n  }\n\n  function getColor(row) {\n    var session_id = row.session_id;\n    return stringToColor(uuids[session_id] || \"\".concat(session_id).concat(getWebsite(row)));\n  }\n\n  var Row = function Row(_ref7) {\n    var _getWebsite2;\n\n    var index = _ref7.index,\n        style = _ref7.style;\n    var row = logs[index];\n    return /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.row,\n      style: style,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(Dot, {\n          color: getColor(row)\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: styles.time,\n        children: getTime(row)\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: styles.detail,\n        children: [/*#__PURE__*/_jsx(Icon, {\n          className: styles.icon,\n          icon: getIcon(row)\n        }), getDetail(row)]\n      }), !websiteId && websites.length > 1 && /*#__PURE__*/_jsx(\"div\", {\n        className: styles.website,\n        children: (_getWebsite2 = getWebsite(row)) === null || _getWebsite2 === void 0 ? void 0 : _getWebsite2.domain\n      })]\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: styles.table,\n    children: [/*#__PURE__*/_jsx(FilterButtons, {\n      buttons: buttons,\n      selected: filter,\n      onClick: setFilter\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: styles.header,\n      children: /*#__PURE__*/_jsx(FormattedMessage, {\n        id: \"label.realtime-logs\",\n        defaultMessage: \"Realtime logs\"\n      })\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.body,\n      children: [(logs === null || logs === void 0 ? void 0 : logs.length) === 0 && /*#__PURE__*/_jsx(NoData, {}), (logs === null || logs === void 0 ? void 0 : logs.length) > 0 && /*#__PURE__*/_jsx(FixedSizeList, {\n        height: 400,\n        itemCount: logs.length,\n        itemSize: 40,\n        children: Row\n      })]\n    })]\n  });\n}","import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport PageHeader from '../layout/PageHeader';\nimport DropDown from '../common/DropDown';\nimport MetricCard from './MetricCard';\nimport styles from './RealtimeHeader.module.css';\nexport default function RealtimeHeader(_ref) {\n  var websites = _ref.websites,\n      data = _ref.data,\n      websiteId = _ref.websiteId,\n      onSelect = _ref.onSelect;\n  var options = [{\n    label: /*#__PURE__*/_jsx(FormattedMessage, {\n      id: \"label.all-websites\",\n      defaultMessage: \"All websites\"\n    }),\n    value: 0\n  }].concat(websites.map(function (_ref2, index) {\n    var name = _ref2.name,\n        website_id = _ref2.website_id;\n    return {\n      label: name,\n      value: website_id,\n      divider: index === 0\n    };\n  }));\n  var pageviews = data.pageviews,\n      sessions = data.sessions,\n      events = data.events,\n      countries = data.countries;\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(PageHeader, {\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"label.realtime\",\n          defaultMessage: \"Realtime\"\n        })\n      }), /*#__PURE__*/_jsx(DropDown, {\n        value: websiteId,\n        options: options,\n        onChange: onSelect\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: styles.metrics,\n      children: [/*#__PURE__*/_jsx(MetricCard, {\n        label: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"metrics.views\",\n          defaultMessage: \"Views\"\n        }),\n        value: pageviews.length\n      }), /*#__PURE__*/_jsx(MetricCard, {\n        label: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"metrics.visitors\",\n          defaultMessage: \"Visitors\"\n        }),\n        value: sessions.length\n      }), /*#__PURE__*/_jsx(MetricCard, {\n        label: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"metrics.events\",\n          defaultMessage: \"Events\"\n        }),\n        value: events.length\n      }), /*#__PURE__*/_jsx(MetricCard, {\n        label: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"metrics.countries\",\n          defaultMessage: \"Countries\"\n        }),\n        value: countries.length\n      })]\n    })]\n  });\n}","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useMemo, useState, useCallback } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport firstBy from 'thenby';\nimport { percentFilter } from 'lib/filters';\nimport DataTable from './DataTable';\nimport FilterButtons from 'components/common/FilterButtons';\nvar FILTER_REFERRERS = 0;\nvar FILTER_PAGES = 1;\nexport default function RealtimeViews(_ref) {\n  var websiteId = _ref.websiteId,\n      data = _ref.data,\n      websites = _ref.websites;\n  var pageviews = data.pageviews;\n\n  var _useState = useState(FILTER_REFERRERS),\n      filter = _useState[0],\n      setFilter = _useState[1];\n\n  var domains = useMemo(function () {\n    return websites.map(function (_ref2) {\n      var domain = _ref2.domain;\n      return domain;\n    });\n  }, [websites]);\n  var getDomain = useCallback(function (id) {\n    var _websites$, _websites$find;\n\n    return websites.length === 1 ? (_websites$ = websites[0]) === null || _websites$ === void 0 ? void 0 : _websites$.domain : (_websites$find = websites.find(function (_ref3) {\n      var website_id = _ref3.website_id;\n      return website_id === id;\n    })) === null || _websites$find === void 0 ? void 0 : _websites$find.domain;\n  }, [websites]);\n  var buttons = [{\n    label: /*#__PURE__*/_jsx(FormattedMessage, {\n      id: \"metrics.referrers\",\n      defaultMessage: \"Referrers\"\n    }),\n    value: FILTER_REFERRERS\n  }, {\n    label: /*#__PURE__*/_jsx(FormattedMessage, {\n      id: \"metrics.pages\",\n      defaultMessage: \"Pages\"\n    }),\n    value: FILTER_PAGES\n  }];\n\n  var renderLink = function renderLink(_ref4) {\n    var x = _ref4.x;\n    var domain = x.startsWith('/') ? getDomain(websiteId) : '';\n    return /*#__PURE__*/_jsx(\"a\", {\n      href: \"//\".concat(domain).concat(x),\n      target: \"_blank\",\n      rel: \"noreferrer noopener\",\n      children: x\n    });\n  };\n\n  var _useMemo = useMemo(function () {\n    if (pageviews) {\n      var _referrers = percentFilter(pageviews.reduce(function (arr, _ref5) {\n        var referrer = _ref5.referrer;\n\n        if (referrer !== null && referrer !== void 0 && referrer.startsWith('http')) {\n          var hostname = new URL(referrer).hostname.replace(/^www\\./, '');\n\n          if (hostname && !domains.includes(hostname)) {\n            var row = arr.find(function (_ref6) {\n              var x = _ref6.x;\n              return x === hostname;\n            });\n\n            if (!row) {\n              arr.push({\n                x: hostname,\n                y: 1\n              });\n            } else {\n              row.y += 1;\n            }\n          }\n        }\n\n        return arr;\n      }, []).sort(firstBy('y', -1)));\n\n      var _pages = percentFilter(pageviews.reduce(function (arr, _ref7) {\n        var _url;\n\n        var url = _ref7.url,\n            website_id = _ref7.website_id;\n\n        if ((_url = url) !== null && _url !== void 0 && _url.startsWith('/')) {\n          if (!websiteId && websites.length > 1) {\n            url = \"\".concat(getDomain(website_id)).concat(url);\n          }\n\n          var row = arr.find(function (_ref8) {\n            var x = _ref8.x;\n            return x === url;\n          });\n\n          if (!row) {\n            arr.push({\n              x: url,\n              y: 1\n            });\n          } else {\n            row.y += 1;\n          }\n        }\n\n        return arr;\n      }, []).sort(firstBy('y', -1)));\n\n      return [_referrers, _pages];\n    }\n\n    return [];\n  }, [pageviews]),\n      referrers = _useMemo[0],\n      pages = _useMemo[1];\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(FilterButtons, {\n      buttons: buttons,\n      selected: filter,\n      onClick: setFilter\n    }), filter === FILTER_REFERRERS && /*#__PURE__*/_jsx(DataTable, {\n      title: /*#__PURE__*/_jsx(FormattedMessage, {\n        id: \"metrics.referrers\",\n        defaultMessage: \"Referrers\"\n      }),\n      metric: /*#__PURE__*/_jsx(FormattedMessage, {\n        id: \"metrics.views\",\n        defaultMessage: \"Views\"\n      }),\n      data: referrers,\n      height: 400\n    }), filter === FILTER_PAGES && /*#__PURE__*/_jsx(DataTable, {\n      title: /*#__PURE__*/_jsx(FormattedMessage, {\n        id: \"metrics.pages\",\n        defaultMessage: \"Pages\"\n      }),\n      metric: /*#__PURE__*/_jsx(FormattedMessage, {\n        id: \"metrics.views\",\n        defaultMessage: \"Views\"\n      }),\n      renderLabel: renderLink,\n      data: pages,\n      height: 400\n    })]\n  });\n}","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { subMinutes, startOfMinute } from 'date-fns';\nimport firstBy from 'thenby';\nimport Page from 'components/layout/Page';\nimport GridLayout, { GridRow, GridColumn } from 'components/layout/GridLayout';\nimport RealtimeChart from 'components/metrics/RealtimeChart';\nimport RealtimeLog from 'components/metrics/RealtimeLog';\nimport RealtimeHeader from 'components/metrics/RealtimeHeader';\nimport WorldMap from 'components/common/WorldMap';\nimport DataTable from 'components/metrics/DataTable';\nimport RealtimeViews from 'components/metrics/RealtimeViews';\nimport useFetch from 'hooks/useFetch';\nimport useLocale from 'hooks/useLocale';\nimport useCountryNames from 'hooks/useCountryNames';\nimport { percentFilter } from 'lib/filters';\nimport { TOKEN_HEADER, REALTIME_RANGE, REALTIME_INTERVAL } from 'lib/constants';\nimport styles from './RealtimeDashboard.module.css';\n\nfunction mergeData(state, data, time) {\n  var ids = state.map(function (_ref) {\n    var __id = _ref.__id;\n    return __id;\n  });\n  return state.concat(data.filter(function (_ref2) {\n    var __id = _ref2.__id;\n    return !ids.includes(__id);\n  })).filter(function (_ref3) {\n    var created_at = _ref3.created_at;\n    return new Date(created_at).getTime() >= time;\n  });\n}\n\nfunction filterWebsite(data, id) {\n  return data.filter(function (_ref4) {\n    var website_id = _ref4.website_id;\n    return website_id === id;\n  });\n}\n\nexport default function RealtimeDashboard() {\n  var _init$websites;\n\n  var _useLocale = useLocale(),\n      _useLocale2 = _slicedToArray(_useLocale, 1),\n      locale = _useLocale2[0];\n\n  var countryNames = useCountryNames(locale);\n\n  var _useState = useState(),\n      data = _useState[0],\n      setData = _useState[1];\n\n  var _useState2 = useState(0),\n      websiteId = _useState2[0],\n      setWebsiteId = _useState2[1];\n\n  var _useFetch = useFetch('/api/realtime/init'),\n      init = _useFetch.data,\n      loading = _useFetch.loading;\n\n  var _useFetch2 = useFetch('/api/realtime/update', {\n    params: {\n      start_at: data === null || data === void 0 ? void 0 : data.timestamp\n    },\n    disabled: !(init !== null && init !== void 0 && (_init$websites = init.websites) !== null && _init$websites !== void 0 && _init$websites.length) || !data,\n    interval: REALTIME_INTERVAL,\n    headers: _defineProperty({}, TOKEN_HEADER, init === null || init === void 0 ? void 0 : init.token)\n  }),\n      updates = _useFetch2.data;\n\n  var renderCountryName = useCallback(function (_ref5) {\n    var x = _ref5.x;\n    return /*#__PURE__*/_jsx(\"span\", {\n      className: locale,\n      children: countryNames[x]\n    });\n  }, [countryNames]);\n  var realtimeData = useMemo(function () {\n    if (data) {\n      var pageviews = data.pageviews,\n          sessions = data.sessions,\n          events = data.events;\n\n      if (websiteId) {\n        return {\n          pageviews: filterWebsite(pageviews, websiteId),\n          sessions: filterWebsite(sessions, websiteId),\n          events: filterWebsite(events, websiteId)\n        };\n      }\n    }\n\n    return data;\n  }, [data, websiteId]);\n  var countries = useMemo(function () {\n    if (realtimeData !== null && realtimeData !== void 0 && realtimeData.sessions) {\n      return percentFilter(realtimeData.sessions.reduce(function (arr, _ref6) {\n        var country = _ref6.country;\n\n        if (country) {\n          var row = arr.find(function (_ref7) {\n            var x = _ref7.x;\n            return x === country;\n          });\n\n          if (!row) {\n            arr.push({\n              x: country,\n              y: 1\n            });\n          } else {\n            row.y += 1;\n          }\n        }\n\n        return arr;\n      }, []).sort(firstBy('y', -1)));\n    }\n\n    return [];\n  }, [realtimeData === null || realtimeData === void 0 ? void 0 : realtimeData.sessions]);\n  useEffect(function () {\n    if (init && !data) {\n      var _websites = init.websites,\n          _data = init.data;\n      setData(_objectSpread({\n        websites: _websites\n      }, _data));\n    }\n  }, [init]);\n  useEffect(function () {\n    if (updates) {\n      var pageviews = updates.pageviews,\n          sessions = updates.sessions,\n          events = updates.events,\n          timestamp = updates.timestamp;\n      var time = subMinutes(startOfMinute(new Date()), REALTIME_RANGE).getTime();\n      setData(function (state) {\n        return _objectSpread(_objectSpread({}, state), {}, {\n          pageviews: mergeData(state.pageviews, pageviews, time),\n          sessions: mergeData(state.sessions, sessions, time),\n          events: mergeData(state.events, events, time),\n          timestamp: timestamp\n        });\n      });\n    }\n  }, [updates]);\n\n  if (!init || !data || loading) {\n    return null;\n  }\n\n  var websites = data.websites;\n  return /*#__PURE__*/_jsxs(Page, {\n    children: [/*#__PURE__*/_jsx(RealtimeHeader, {\n      websites: websites,\n      websiteId: websiteId,\n      data: _objectSpread(_objectSpread({}, realtimeData), {}, {\n        countries: countries\n      }),\n      onSelect: setWebsiteId\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: styles.chart,\n      children: /*#__PURE__*/_jsx(RealtimeChart, {\n        websiteId: websiteId,\n        data: realtimeData,\n        unit: \"minute\",\n        records: REALTIME_RANGE\n      })\n    }), /*#__PURE__*/_jsxs(GridLayout, {\n      children: [/*#__PURE__*/_jsxs(GridRow, {\n        children: [/*#__PURE__*/_jsx(GridColumn, {\n          xs: 12,\n          lg: 4,\n          children: /*#__PURE__*/_jsx(RealtimeViews, {\n            websiteId: websiteId,\n            data: realtimeData,\n            websites: websites\n          })\n        }), /*#__PURE__*/_jsx(GridColumn, {\n          xs: 12,\n          lg: 8,\n          children: /*#__PURE__*/_jsx(RealtimeLog, {\n            websiteId: websiteId,\n            data: realtimeData,\n            websites: websites\n          })\n        })]\n      }), /*#__PURE__*/_jsxs(GridRow, {\n        children: [/*#__PURE__*/_jsx(GridColumn, {\n          xs: 12,\n          lg: 4,\n          children: /*#__PURE__*/_jsx(DataTable, {\n            title: /*#__PURE__*/_jsx(FormattedMessage, {\n              id: \"metrics.countries\",\n              defaultMessage: \"Countries\"\n            }),\n            metric: /*#__PURE__*/_jsx(FormattedMessage, {\n              id: \"metrics.visitors\",\n              defaultMessage: \"Visitors\"\n            }),\n            data: countries,\n            renderLabel: renderCountryName,\n            height: 500\n          })\n        }), /*#__PURE__*/_jsx(GridColumn, {\n          xs: 12,\n          lg: 8,\n          children: /*#__PURE__*/_jsx(WorldMap, {\n            data: countries\n          })\n        })]\n      })]\n    })]\n  });\n}","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Layout from 'components/layout/Layout';\nimport RealtimeDashboard from 'components/pages/RealtimeDashboard';\nimport useRequireLogin from 'hooks/useRequireLogin';\nexport default function RealtimePage() {\n  var _useRequireLogin = useRequireLogin(),\n      loading = _useRequireLogin.loading;\n\n  if (loading) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsx(Layout, {\n    children: /*#__PURE__*/_jsx(RealtimeDashboard, {})\n  });\n}","import { createSlice } from '@reduxjs/toolkit';\nvar user = createSlice({\n  name: 'user',\n  initialState: null,\n  reducers: {\n    updateUser: function updateUser(state, action) {\n      state = action.payload;\n      return state;\n    }\n  }\n});\nvar updateUser = user.actions.updateUser;\nexport { updateUser };\nexport default user.reducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"RealtimeDashboard_container__1ZLx1\",\"chart\":\"RealtimeDashboard_chart__1LaXv\"};"]}}