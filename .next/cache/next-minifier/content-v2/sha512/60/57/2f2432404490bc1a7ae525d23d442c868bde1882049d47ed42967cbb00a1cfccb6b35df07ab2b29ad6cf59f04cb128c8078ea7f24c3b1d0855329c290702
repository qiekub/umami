{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[25],{\"/97x\":function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return o}));var n=a(\"vJKn\"),r=a.n(n),s=a(\"rg98\"),c=a(\"q1tI\"),i=a(\"20a2\"),u=a(\"jeBt\");function o(){var e=Object(i.useRouter)().basePath;return Object(c.useCallback)(function(){var t=Object(s.a)(r.a.mark((function t(a,n,s){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt(\"return\",Object(u.d)(\"\".concat(e).concat(a),n,s));case 1:case\"end\":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),[])}},MGCh:function(e,t,a){e.exports={login:\"LoginForm_login__GCvEY\",icon:\"LoginForm_icon__2OSp0\",header:\"LoginForm_header__1biOh\"}},O2ls:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"default\",(function(){return g}));var n=a(\"nKUr\"),r=a(\"q1tI\"),s=a(\"80PL\"),c=a(\"vJKn\"),i=a.n(c),u=a(\"rg98\"),o=a(\"kriW\"),d=a(\"KYPV\"),j=a(\"20a2\"),l=a(\"4qaV\"),b=a(\"PhFv\"),O=a(\"atwx\"),x=a(\"y/Pd\"),p=a(\"MGCh\"),h=a.n(p),m=a(\"/97x\"),f=function(e){var t=e.username,a=e.password,r={};return t||(r.username=Object(n.jsx)(o.a,{id:\"label.required\",defaultMessage:\"Required\"})),a||(r.password=Object(n.jsx)(o.a,{id:\"label.required\",defaultMessage:\"Required\"})),r};function w(){var e=Object(m.a)(),t=Object(j.useRouter)(),a=Object(r.useState)(),s=a[0],c=a[1],p=function(){var a=Object(u.a)(i.a.mark((function a(r){var s,u,d,j,l,b;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s=r.username,u=r.password,a.next=3,e(\"/api/auth/login\",{username:s,password:u});case 3:if(d=a.sent,j=d.ok,l=d.status,b=d.data,!j){a.next=11;break}return a.abrupt(\"return\",t.push(\"/\"));case 11:c(401===l?Object(n.jsx)(o.a,{id:\"message.incorrect-username-password\",defaultMessage:\"Incorrect username/password.\"}):b);case 12:case\"end\":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(n.jsx)(b.e,{className:h.a.login,children:Object(n.jsx)(d.d,{initialValues:{username:\"\",password:\"\"},validate:f,onSubmit:p,children:function(){return Object(n.jsxs)(d.c,{children:[Object(n.jsxs)(\"div\",{className:h.a.header,children:[Object(n.jsx)(O.a,{icon:Object(n.jsx)(x.a,{}),size:\"xlarge\",className:h.a.icon}),Object(n.jsx)(\"h1\",{className:\"center\",children:\"umami\"})]}),Object(n.jsxs)(b.d,{children:[Object(n.jsx)(\"label\",{htmlFor:\"username\",children:Object(n.jsx)(o.a,{id:\"label.username\",defaultMessage:\"Username\"})}),Object(n.jsxs)(\"div\",{children:[Object(n.jsx)(d.b,{name:\"username\",type:\"text\"}),Object(n.jsx)(b.b,{name:\"username\"})]})]}),Object(n.jsxs)(b.d,{children:[Object(n.jsx)(\"label\",{htmlFor:\"password\",children:Object(n.jsx)(o.a,{id:\"label.password\",defaultMessage:\"Password\"})}),Object(n.jsxs)(\"div\",{children:[Object(n.jsx)(d.b,{name:\"password\",type:\"password\"}),Object(n.jsx)(b.b,{name:\"password\"})]})]}),Object(n.jsx)(b.a,{children:Object(n.jsx)(l.a,{type:\"submit\",variant:\"action\",children:Object(n.jsx)(o.a,{id:\"label.login\",defaultMessage:\"Login\"})})}),Object(n.jsx)(b.c,{children:s})]})}})})}function g(){return Object(n.jsx)(s.a,{title:\"login\",header:!1,footer:!1,center:!0,children:Object(n.jsx)(w,{})})}},u6Hu:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/login\",function(){return a(\"O2ls\")}])}},[[\"u6Hu\",0,2,1,3,4,5,9]]]);","map":{"version":3,"sources":["static/chunks/pages/login-6ff6cf8d7d3e1a76ea02.js"],"names":["_N_E","window","push","/97x","module","__webpack_exports__","__webpack_require__","d","usePost","_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","next_router__WEBPACK_IMPORTED_MODULE_3__","lib_web__WEBPACK_IMPORTED_MODULE_4__","basePath","Object","_ref","a","mark","_callee","url","params","headers","wrap","_context","prev","next","abrupt","concat","stop","_x","_x2","_x3","apply","this","arguments","MGCh","exports","login","icon","header","O2ls","r","LoginPage","jsx_runtime","react","Layout","regenerator","regenerator_default","asyncToGenerator","components_message","formik_esm","next_router","Button","FormLayout","Icon","logo","LoginForm_module","LoginForm_module_default","LoginForm_validate","username","password","errors","id","defaultMessage","LoginForm","post","router","_useState","message","setMessage","handleSubmit","_ref3","_ref2","_yield$post","ok","status","data","sent","className","children","initialValues","validate","onSubmit","size","htmlFor","name","type","variant","title","footer","center","u6Hu","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/login-6ff6cf8d7d3e1a76ea02.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[25],{\n\n/***/ \"/97x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return usePost; });\n/* harmony import */ var _Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var _Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"rg98\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lib_web__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"jeBt\");\n\n\n\n\n\nfunction usePost() {\n  var _useRouter = Object(next_router__WEBPACK_IMPORTED_MODULE_3__[\"useRouter\"])(),\n      basePath = _useRouter.basePath;\n\n  return Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useCallback\"])( /*#__PURE__*/function () {\n    var _ref = Object(_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(url, params, headers) {\n      return _Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", Object(lib_web__WEBPACK_IMPORTED_MODULE_4__[/* post */ \"d\"])(\"\".concat(basePath).concat(url), params, headers));\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2, _x3) {\n      return _ref.apply(this, arguments);\n    };\n  }(), []);\n}\n\n/***/ }),\n\n/***/ \"MGCh\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"LoginForm_login__GCvEY\",\"icon\":\"LoginForm_icon__2OSp0\",\"header\":\"LoginForm_header__1biOh\"};\n\n/***/ }),\n\n/***/ \"O2ls\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"default\", function() { return /* binding */ LoginPage; });\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\n\n// EXTERNAL MODULE: ./components/layout/Layout.js + 12 modules\nvar Layout = __webpack_require__(\"80PL\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"vJKn\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"rg98\");\n\n// EXTERNAL MODULE: ./node_modules/react-intl/lib/src/components/message.js\nvar components_message = __webpack_require__(\"kriW\");\n\n// EXTERNAL MODULE: ./node_modules/formik/dist/formik.esm.js + 115 modules\nvar formik_esm = __webpack_require__(\"KYPV\");\n\n// EXTERNAL MODULE: ./node_modules/next/router.js\nvar next_router = __webpack_require__(\"20a2\");\n\n// EXTERNAL MODULE: ./components/common/Button.js\nvar Button = __webpack_require__(\"4qaV\");\n\n// EXTERNAL MODULE: ./components/layout/FormLayout.js\nvar FormLayout = __webpack_require__(\"PhFv\");\n\n// EXTERNAL MODULE: ./components/common/Icon.js\nvar Icon = __webpack_require__(\"atwx\");\n\n// EXTERNAL MODULE: ./assets/logo.svg\nvar logo = __webpack_require__(\"y/Pd\");\n\n// EXTERNAL MODULE: ./components/forms/LoginForm.module.css\nvar LoginForm_module = __webpack_require__(\"MGCh\");\nvar LoginForm_module_default = /*#__PURE__*/__webpack_require__.n(LoginForm_module);\n\n// EXTERNAL MODULE: ./hooks/usePost.js\nvar usePost = __webpack_require__(\"/97x\");\n\n// CONCATENATED MODULE: ./components/forms/LoginForm.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar LoginForm_validate = function validate(_ref) {\n  var username = _ref.username,\n      password = _ref.password;\n  var errors = {};\n\n  if (!username) {\n    errors.username = /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_message[\"a\" /* default */], {\n      id: \"label.required\",\n      defaultMessage: \"Required\"\n    });\n  }\n\n  if (!password) {\n    errors.password = /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_message[\"a\" /* default */], {\n      id: \"label.required\",\n      defaultMessage: \"Required\"\n    });\n  }\n\n  return errors;\n};\n\nfunction LoginForm() {\n  var post = Object(usePost[\"a\" /* default */])();\n  var router = Object(next_router[\"useRouter\"])();\n\n  var _useState = Object(react[\"useState\"])(),\n      message = _useState[0],\n      setMessage = _useState[1];\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref3 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(_ref2) {\n      var username, password, _yield$post, ok, status, data;\n\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              username = _ref2.username, password = _ref2.password;\n              _context.next = 3;\n              return post('/api/auth/login', {\n                username: username,\n                password: password\n              });\n\n            case 3:\n              _yield$post = _context.sent;\n              ok = _yield$post.ok;\n              status = _yield$post.status;\n              data = _yield$post.data;\n\n              if (!ok) {\n                _context.next = 11;\n                break;\n              }\n\n              return _context.abrupt(\"return\", router.push('/'));\n\n            case 11:\n              setMessage(status === 401 ? /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_message[\"a\" /* default */], {\n                id: \"message.incorrect-username-password\",\n                defaultMessage: \"Incorrect username/password.\"\n              }) : data);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormLayout[\"e\" /* default */], {\n    className: LoginForm_module_default.a.login,\n    children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(formik_esm[\"d\" /* Formik */], {\n      initialValues: {\n        username: '',\n        password: ''\n      },\n      validate: LoginForm_validate,\n      onSubmit: handleSubmit,\n      children: function children() {\n        return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(formik_esm[\"c\" /* Form */], {\n          children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n            className: LoginForm_module_default.a.header,\n            children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */], {\n              icon: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(logo[\"a\" /* default */], {}),\n              size: \"xlarge\",\n              className: LoginForm_module_default.a.icon\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\", {\n              className: \"center\",\n              children: \"umami\"\n            })]\n          }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(FormLayout[\"d\" /* FormRow */], {\n            children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\", {\n              htmlFor: \"username\",\n              children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_message[\"a\" /* default */], {\n                id: \"label.username\",\n                defaultMessage: \"Username\"\n              })\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n              children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(formik_esm[\"b\" /* Field */], {\n                name: \"username\",\n                type: \"text\"\n              }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormLayout[\"b\" /* FormError */], {\n                name: \"username\"\n              })]\n            })]\n          }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(FormLayout[\"d\" /* FormRow */], {\n            children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\", {\n              htmlFor: \"password\",\n              children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_message[\"a\" /* default */], {\n                id: \"label.password\",\n                defaultMessage: \"Password\"\n              })\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n              children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(formik_esm[\"b\" /* Field */], {\n                name: \"password\",\n                type: \"password\"\n              }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormLayout[\"b\" /* FormError */], {\n                name: \"password\"\n              })]\n            })]\n          }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormLayout[\"a\" /* FormButtons */], {\n            children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */], {\n              type: \"submit\",\n              variant: \"action\",\n              children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_message[\"a\" /* default */], {\n                id: \"label.login\",\n                defaultMessage: \"Login\"\n              })\n            })\n          }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormLayout[\"c\" /* FormMessage */], {\n            children: message\n          })]\n        });\n      }\n    })\n  });\n}\n// CONCATENATED MODULE: ./pages/login.js\n\n\n\n\nfunction LoginPage() {\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Layout[\"a\" /* default */], {\n    title: \"login\",\n    header: false,\n    footer: false,\n    center: true,\n    children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LoginForm, {})\n  });\n}\n\n/***/ }),\n\n/***/ \"u6Hu\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/login\",\n      function () {\n        return __webpack_require__(\"O2ls\");\n      }\n    ]);\n  \n\n/***/ })\n\n},[[\"u6Hu\",0,2,1,3,4,5,9]]]);","inputSourceMap":{"version":3,"sources":["/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/hooks/usePost.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/plugins/mini-css-extract-plugin/src/loader.js??ref--5-oneOf-2-0!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/compiled/css-loader/cjs.js??ref--5-oneOf-2-1!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/compiled/postcss-loader/cjs.js??ref--5-oneOf-2-2!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/forms/LoginForm.module.css","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/forms/LoginForm.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/pages/login.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Flogin&absolutePagePath=private-next-pages%2Flogin.js!"],"names":[],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8I;AACe;AACzH;AACI;AACT;AAChB;AACf,mBAAmB,6DAAS;AAC5B;;AAEA,SAAS,yDAAW;AACpB,eAAe,mLAAiB,eAAe,iJAAmB;AAClE,aAAa,iJAAmB;AAChC;AACA;AACA;AACA,+CAA+C,4DAAI;;AAEnD;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;AACH,C;;;;;;;AC7BA;AACA,kBAAkB,oG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDgC;AAC4F;AACe;AAC7G;AACR;AACM;AACD;AACL;AACM;AAC0D;AAC9D;AACP;AACS;AACR;;AAEpC,IAAI,kBAAQ;AACZ;AACA;AACA;;AAEA;AACA,mCAAmC,0BAAI,CAAC,qCAAgB;AACxD;AACA;AACA,KAAK;AACL;;AAEA;AACA,mCAAmC,0BAAI,CAAC,qCAAgB;AACxD;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEe;AACf,aAAa,kCAAO;AACpB,eAAe,gCAAS;;AAExB,kBAAkB,yBAAQ;AAC1B;AACA;;AAEA;AACA,gBAAgB,2CAAiB,eAAe,qBAAmB;AACnE;;AAEA,aAAa,qBAAmB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,uDAAuD,0BAAI,CAAC,qCAAgB;AAC5E;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA;AACA,GAAG;;AAEH,sBAAsB,0BAAI,CAAC,6BAAU;AACrC,eAAe,0BAAM;AACrB,2BAA2B,0BAAI,CAAC,4BAAM;AACtC;AACA;AACA;AACA,OAAO;AACP,gBAAgB,kBAAQ;AACxB;AACA;AACA,4BAA4B,2BAAK,CAAC,0BAAI;AACtC,kCAAkC,2BAAK;AACvC,uBAAuB,0BAAM;AAC7B,oCAAoC,0BAAI,CAAC,uBAAI;AAC7C,iCAAiC,0BAAI,CAAC,uBAAI,IAAI;AAC9C;AACA,yBAAyB,0BAAM;AAC/B,aAAa,gBAAgB,0BAAI;AACjC;AACA;AACA,aAAa;AACb,WAAW,gBAAgB,2BAAK,CAAC,6BAAO;AACxC,oCAAoC,0BAAI;AACxC;AACA,qCAAqC,0BAAI,CAAC,qCAAgB;AAC1D;AACA;AACA,eAAe;AACf,aAAa,gBAAgB,2BAAK;AAClC,sCAAsC,0BAAI,CAAC,2BAAK;AAChD;AACA;AACA,eAAe,gBAAgB,0BAAI,CAAC,+BAAS;AAC7C;AACA,eAAe;AACf,aAAa;AACb,WAAW,gBAAgB,2BAAK,CAAC,6BAAO;AACxC,oCAAoC,0BAAI;AACxC;AACA,qCAAqC,0BAAI,CAAC,qCAAgB;AAC1D;AACA;AACA,eAAe;AACf,aAAa,gBAAgB,2BAAK;AAClC,sCAAsC,0BAAI,CAAC,2BAAK;AAChD;AACA;AACA,eAAe,gBAAgB,0BAAI,CAAC,+BAAS;AAC7C;AACA,eAAe;AACf,aAAa;AACb,WAAW,gBAAgB,0BAAI,CAAC,iCAAW;AAC3C,mCAAmC,0BAAI,CAAC,yBAAM;AAC9C;AACA;AACA,qCAAqC,0BAAI,CAAC,qCAAgB;AAC1D;AACA;AACA,eAAe;AACf,aAAa;AACb,WAAW,gBAAgB,0BAAI,CAAC,iCAAW;AAC3C;AACA,WAAW;AACX,SAAS;AACT;AACA,KAAK;AACL,GAAG;AACH,C;;AC/JgD;AACtB;AACoB;AACK;AACpC;AACf,sBAAsB,0BAAI,CAAC,yBAAM;AACjC;AACA;AACA;AACA;AACA,2BAA2B,0BAAI,CAAC,SAAS,IAAI;AAC7C,GAAG;AACH,C;;;;;;;;ACXA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,MAA6B;AACpD;AACA","file":"x","sourcesContent":["import _regeneratorRuntime from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { useCallback } from 'react';\nimport { useRouter } from 'next/router';\nimport { post } from 'lib/web';\nexport default function usePost() {\n  var _useRouter = useRouter(),\n      basePath = _useRouter.basePath;\n\n  return useCallback( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(url, params, headers) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              return _context.abrupt(\"return\", post(\"\".concat(basePath).concat(url), params, headers));\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x, _x2, _x3) {\n      return _ref.apply(this, arguments);\n    };\n  }(), []);\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"LoginForm_login__GCvEY\",\"icon\":\"LoginForm_icon__2OSp0\",\"header\":\"LoginForm_header__1biOh\"};","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { Formik, Form, Field } from 'formik';\nimport { useRouter } from 'next/router';\nimport Button from 'components/common/Button';\nimport FormLayout, { FormButtons, FormError, FormMessage, FormRow } from 'components/layout/FormLayout';\nimport Icon from 'components/common/Icon';\nimport Logo from 'assets/logo.svg';\nimport styles from './LoginForm.module.css';\nimport usePost from 'hooks/usePost';\n\nvar validate = function validate(_ref) {\n  var username = _ref.username,\n      password = _ref.password;\n  var errors = {};\n\n  if (!username) {\n    errors.username = /*#__PURE__*/_jsx(FormattedMessage, {\n      id: \"label.required\",\n      defaultMessage: \"Required\"\n    });\n  }\n\n  if (!password) {\n    errors.password = /*#__PURE__*/_jsx(FormattedMessage, {\n      id: \"label.required\",\n      defaultMessage: \"Required\"\n    });\n  }\n\n  return errors;\n};\n\nexport default function LoginForm() {\n  var post = usePost();\n  var router = useRouter();\n\n  var _useState = useState(),\n      message = _useState[0],\n      setMessage = _useState[1];\n\n  var handleSubmit = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n      var username, password, _yield$post, ok, status, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              username = _ref2.username, password = _ref2.password;\n              _context.next = 3;\n              return post('/api/auth/login', {\n                username: username,\n                password: password\n              });\n\n            case 3:\n              _yield$post = _context.sent;\n              ok = _yield$post.ok;\n              status = _yield$post.status;\n              data = _yield$post.data;\n\n              if (!ok) {\n                _context.next = 11;\n                break;\n              }\n\n              return _context.abrupt(\"return\", router.push('/'));\n\n            case 11:\n              setMessage(status === 401 ? /*#__PURE__*/_jsx(FormattedMessage, {\n                id: \"message.incorrect-username-password\",\n                defaultMessage: \"Incorrect username/password.\"\n              }) : data);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsx(FormLayout, {\n    className: styles.login,\n    children: /*#__PURE__*/_jsx(Formik, {\n      initialValues: {\n        username: '',\n        password: ''\n      },\n      validate: validate,\n      onSubmit: handleSubmit,\n      children: function children() {\n        return /*#__PURE__*/_jsxs(Form, {\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: styles.header,\n            children: [/*#__PURE__*/_jsx(Icon, {\n              icon: /*#__PURE__*/_jsx(Logo, {}),\n              size: \"xlarge\",\n              className: styles.icon\n            }), /*#__PURE__*/_jsx(\"h1\", {\n              className: \"center\",\n              children: \"umami\"\n            })]\n          }), /*#__PURE__*/_jsxs(FormRow, {\n            children: [/*#__PURE__*/_jsx(\"label\", {\n              htmlFor: \"username\",\n              children: /*#__PURE__*/_jsx(FormattedMessage, {\n                id: \"label.username\",\n                defaultMessage: \"Username\"\n              })\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              children: [/*#__PURE__*/_jsx(Field, {\n                name: \"username\",\n                type: \"text\"\n              }), /*#__PURE__*/_jsx(FormError, {\n                name: \"username\"\n              })]\n            })]\n          }), /*#__PURE__*/_jsxs(FormRow, {\n            children: [/*#__PURE__*/_jsx(\"label\", {\n              htmlFor: \"password\",\n              children: /*#__PURE__*/_jsx(FormattedMessage, {\n                id: \"label.password\",\n                defaultMessage: \"Password\"\n              })\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              children: [/*#__PURE__*/_jsx(Field, {\n                name: \"password\",\n                type: \"password\"\n              }), /*#__PURE__*/_jsx(FormError, {\n                name: \"password\"\n              })]\n            })]\n          }), /*#__PURE__*/_jsx(FormButtons, {\n            children: /*#__PURE__*/_jsx(Button, {\n              type: \"submit\",\n              variant: \"action\",\n              children: /*#__PURE__*/_jsx(FormattedMessage, {\n                id: \"label.login\",\n                defaultMessage: \"Login\"\n              })\n            })\n          }), /*#__PURE__*/_jsx(FormMessage, {\n            children: message\n          })]\n        });\n      }\n    })\n  });\n}","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport Layout from 'components/layout/Layout';\nimport LoginForm from 'components/forms/LoginForm';\nexport default function LoginPage() {\n  return /*#__PURE__*/_jsx(Layout, {\n    title: \"login\",\n    header: false,\n    footer: false,\n    center: true,\n    children: /*#__PURE__*/_jsx(LoginForm, {})\n  });\n}","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/login\",\n      function () {\n        return require(\"private-next-pages/login.js\");\n      }\n    ]);\n  "]}}