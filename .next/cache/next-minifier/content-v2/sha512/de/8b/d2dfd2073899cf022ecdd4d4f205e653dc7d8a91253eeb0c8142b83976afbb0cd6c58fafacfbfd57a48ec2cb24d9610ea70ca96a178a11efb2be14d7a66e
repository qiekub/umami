{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13],{\"4r7v\":function(e,t,r){e.exports={error:\"ErrorMessage_error__3ZjHd\",icon:\"ErrorMessage_icon__1cEeC\"}},CDh1:function(e,t,r){e.exports={title:\"WebsiteHeader_title__hGIb-\",link:\"WebsiteHeader_link__2bwZL\",active:\"WebsiteHeader_active__5r1FR\"}},GrYM:function(e,t,r){e.exports={container:\"WebsiteChart_container__3Ep77\",title:\"WebsiteChart_title__2cmt6\",header:\"WebsiteChart_header__3Gb2R\",metrics:\"WebsiteChart_metrics__33aMf\",sticky:\"WebsiteChart_sticky__1O07I\",filter:\"WebsiteChart_filter__2zrCT\",url:\"WebsiteChart_url__qWu22\"}},IZIc:function(e,t,r){e.exports={loading:\"Loading_loading__2pPUq\",blink:\"Loading_blink__1PtEJ\"}},JDPv:function(e,t,r){\"use strict\";var c,a=r(\"q1tI\");function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c])}return e}).apply(this,arguments)}t.a=function(e){return a.createElement(\"svg\",n({xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 448 512\"},e),c||(c=a.createElement(\"path\",{d:\"M216.464 36.465l-7.071 7.07c-4.686 4.686-4.686 12.284 0 16.971L387.887 239H12c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h375.887L209.393 451.494c-4.686 4.686-4.686 12.284 0 16.971l7.071 7.07c4.686 4.686 12.284 4.686 16.97 0l211.051-211.05c4.686-4.686 4.686-12.284 0-16.971L233.434 36.465c-4.686-4.687-12.284-4.687-16.97 0z\"})))}},MPiW:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return j}));var c,a=r(\"nKUr\"),n=r(\"q1tI\"),s=r(\"kriW\"),i=r(\"atwx\");function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c])}return e}).apply(this,arguments)}var l=function(e){return n.createElement(\"svg\",o({xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 576 512\"},e),c||(c=n.createElement(\"path\",{d:\"M270.2 160h35.5c3.4 0 6.1 2.8 6 6.2l-7.5 196c-.1 3.2-2.8 5.8-6 5.8h-20.5c-3.2 0-5.9-2.5-6-5.8l-7.5-196c-.1-3.4 2.6-6.2 6-6.2zM288 388c-15.5 0-28 12.5-28 28s12.5 28 28 28 28-12.5 28-28-12.5-28-28-28zm281.5 52L329.6 24c-18.4-32-64.7-32-83.2 0L6.5 440c-18.4 31.9 4.6 72 41.6 72H528c36.8 0 60-40 41.5-72zM528 480H48c-12.3 0-20-13.3-13.9-24l240-416c6.1-10.6 21.6-10.7 27.7 0l240 416c6.2 10.6-1.5 24-13.8 24z\"})))},u=r(\"4r7v\"),b=r.n(u);function j(){return Object(a.jsxs)(\"div\",{className:b.a.error,children:[Object(a.jsx)(i.a,{icon:Object(a.jsx)(l,{}),className:b.a.icon,size:\"large\"}),Object(a.jsx)(s.a,{id:\"message.failure\",defaultMessage:\"Something went wrong.\"})]})}},OiYy:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return $}));var c=r(\"nKUr\"),a=r(\"cpVT\"),n=r(\"xvhg\"),s=r(\"q1tI\"),i=r(\"TSYQ\"),o=r.n(i),l=r(\"rqNM\"),u=r(\"kriW\"),b=r(\"hnLT\"),j=r(\"MPiW\"),d=r(\"0Kmt\"),O=r(\"G8Ct\"),v=r(\"y4Yb\"),f=r(\"bzoS\"),h=r(\"GGPy\"),p=r(\"YSmr\"),m=r(\"NgRG\"),x=r(\"l+P1\"),w=r.n(x);function g(e){var t=e.websiteId,r=e.className,i=Object(f.a)(),l=Object(O.a)(t),x=Object(n.a)(l,1)[0],g=x.startDate,_=x.endDate,y=x.modified,k=Object(s.useState)(!0),N=k[0],P=k[1],M=Object(v.a)().query.url,C=Object(d.a)(\"/api/website/\".concat(t,\"/stats\"),{params:{start_at:+g,end_at:+_,url:M},headers:Object(a.a)({},p.r,null===i||void 0===i?void 0:i.token)},[M,y]),I=C.data,E=C.error,D=C.loading,L=N?h.a:h.b;var q=I||{},W=q.pageviews,z=q.uniques,S=q.bounces,T=q.totaltime,R=Math.min(z,S);return Object(c.jsxs)(\"div\",{className:o()(w.a.bar,r),onClick:function(){P((function(e){return!e}))},children:[!I&&D&&Object(c.jsx)(b.a,{}),E&&Object(c.jsx)(j.a,{}),I&&!E&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(m.a,{label:Object(c.jsx)(u.a,{id:\"metrics.views\",defaultMessage:\"Views\"}),value:W,format:L}),Object(c.jsx)(m.a,{label:Object(c.jsx)(u.a,{id:\"metrics.visitors\",defaultMessage:\"Visitors\"}),value:z,format:L}),Object(c.jsx)(m.a,{label:Object(c.jsx)(u.a,{id:\"metrics.bounce-rate\",defaultMessage:\"Bounce rate\"}),value:z?R/z*100:0,format:function(e){return Number(e).toFixed(0)+\"%\"}}),Object(c.jsx)(m.a,{label:Object(c.jsx)(u.a,{id:\"metrics.average-visit-time\",defaultMessage:\"Average visit time\"}),value:T&&W?T/(W-S):0,format:function(e){return Object(h.c)(e,[\"m\",\"s\"],\" \")}})]})]})}var _,y=r(\"pjx/\"),k=r(\"tfvX\"),N=r(\"/MKj\"),P=r(\"nn0s\"),M=r(\"4qaV\");function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c])}return e}).apply(this,arguments)}var I=function(e){return s.createElement(\"svg\",C({xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 512 512\"},e),_||(_=s.createElement(\"path\",{d:\"M500 8h-27.711c-6.739 0-12.157 5.548-11.997 12.286l2.347 98.568C418.075 51.834 341.788 7.73 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.165 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-19.738-19.738c-4.498-4.498-11.753-4.785-16.501-.552C351.787 433.246 306.105 452 256 452c-108.322 0-196-87.662-196-196 0-108.322 87.662-196 196-196 79.545 0 147.941 47.282 178.675 115.302l-126.389-3.009c-6.737-.16-12.286 5.257-12.286 11.997V212c0 6.627 5.373 12 12 12h192c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z\"})))},E=r(\"1ETy\"),D=r(\"rIuf\"),L=r(\"nsFc\");var q=function(e){var t=e.websiteId,r=Object(N.b)(),a=Object(L.a)(),i=Object(n.a)(a,1)[0],o=Object(O.a)(t),l=Object(n.a)(o,1)[0],b=Object(s.useState)(!1),j=b[0],d=b[1],v=Object(N.c)((function(e){return e.queries[\"/api/website/\".concat(t,\"/stats\")]}));return Object(s.useEffect)((function(){d(!1)}),[v]),Object(c.jsx)(M.a,{icon:j?Object(c.jsx)(E.a,{}):Object(c.jsx)(I,{}),tooltip:Object(c.jsx)(u.a,{id:\"label.refresh\",defaultMessage:\"Refresh\"}),tooltipId:\"button-refresh\",size:\"small\",onClick:function(){l&&(d(!0),r(Object(P.b)(t,Object(D.d)(l.value,i))))}})},W=r(\"TOCn\"),z=r(\"ZJFB\"),S=r(\"ty6r\"),T=r(\"u605\"),R=r.n(T);function H(e){var t=e.websiteId,r=e.className,n=Object(f.a)(),i=Object(d.a)(\"/api/website/\".concat(t,\"/active\"),{interval:6e4,headers:Object(a.a)({},p.r,null===n||void 0===n?void 0:n.token)}).data,l=Object(s.useMemo)((function(){var e;return(null===i||void 0===i||null===(e=i[0])||void 0===e?void 0:e.x)||0}),[i]);return 0===l?null:Object(c.jsxs)(\"div\",{className:o()(R.a.container,r),children:[Object(c.jsx)(S.a,{}),Object(c.jsx)(\"div\",{className:R.a.text,children:Object(c.jsx)(\"div\",{children:Object(c.jsx)(u.a,{id:\"message.active-users\",defaultMessage:\"{x} current {x, plural, one {visitor} other {visitors}}\",values:{x:l}})})})]})}var G=r(\"JDPv\"),Y=r(\"CDh1\"),F=r.n(Y);function J(e){var t=e.websiteId,r=e.title,a=e.domain,n=e.showLink,s=void 0!==n&&n,i=s?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(z.a,{domain:a}),Object(c.jsx)(y.a,{href:\"/website/[...id]\",as:\"/website/\".concat(t,\"/\").concat(r),children:r})]}):Object(c.jsxs)(\"div\",{children:[Object(c.jsx)(z.a,{domain:a}),r]});return Object(c.jsxs)(k.a,{children:[Object(c.jsx)(\"div\",{className:F.a.title,children:i}),Object(c.jsx)(H,{className:F.a.active,websiteId:t}),Object(c.jsxs)(W.a,{align:\"right\",children:[Object(c.jsx)(q,{websiteId:t}),s&&Object(c.jsx)(y.a,{href:\"/website/[...id]\",as:\"/website/\".concat(t,\"/\").concat(r),className:F.a.link,icon:Object(c.jsx)(G.a,{}),size:\"small\",iconRight:!0,children:Object(c.jsx)(u.a,{id:\"label.view-details\",defaultMessage:\"View details\"})})]})]})}var K=r(\"NC3K\");function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,c)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e){var t,r=e.className,n=e.stickyClassName,i=e.stickyStyle,l=e.children,u=e.enabled,b=void 0===u||u,j=Object(s.useState)(!1),d=j[0],O=j[1],v=Object(s.useRef)(),f=Object(s.useRef)(0);return Object(s.useEffect)((function(){var e=function(){if(v.current){f.current||(f.current=v.current.offsetTop+v.current.offsetHeight);var e=window.pageYOffset>f.current;d!==e&&O(e)}};return e(),b&&window.addEventListener(\"scroll\",e),function(){window.removeEventListener(\"scroll\",e)}}),[d,b]),Object(c.jsx)(\"div\",{ref:v,\"data-sticky\":d,className:o()(r,Object(a.a)({},n,d)),style:d?V(V({},i),{},{width:null===v||void 0===v||null===(t=v.current)||void 0===t?void 0:t.clientWidth}):null,children:l})}var A=r(\"TdLA\"),Z=r(\"InOs\"),Q=r(\"GrYM\"),X=r.n(Q);function $(e){var t=e.websiteId,r=e.title,i=e.domain,u=e.stickyHeader,b=void 0!==u&&u,h=e.showLink,m=void 0!==h&&h,x=e.hideChart,w=void 0!==x&&x,_=e.onDataLoad,y=void 0===_?function(){}:_,k=Object(f.a)(),N=Object(O.a)(t),P=Object(n.a)(N,2),M=P[0],C=P[1],I=M.startDate,E=M.endDate,L=M.unit,q=M.value,W=M.modified,z=Object(A.a)(),S=Object(n.a)(z,1)[0],T=Object(v.a)(),R=T.router,H=T.resolve,G=T.query.url,Y=Object(d.a)(\"/api/website/\".concat(t,\"/pageviews\"),{params:{start_at:+I,end_at:+E,unit:L,tz:S,url:G},onDataLoad:y,headers:Object(a.a)({},p.r,null===k||void 0===k?void 0:k.token)},[G,W]),F=Y.data,U=Y.loading,V=Y.error,Z=Object(s.useMemo)((function(){return F?{pageviews:Object(D.b)(F.pageviews,I,E,L),sessions:Object(D.b)(F.sessions,I,E,L)}:{pageviews:[],sessions:[]}}),[F]);return Object(c.jsxs)(\"div\",{className:X.a.container,children:[Object(c.jsx)(J,{websiteId:t,title:r,domain:i,showLink:m}),Object(c.jsx)(\"div\",{className:o()(X.a.header,\"row\"),children:Object(c.jsxs)(B,{className:o()(X.a.metrics,\"col row\"),stickyClassName:X.a.sticky,enabled:b,children:[G&&Object(c.jsx)(ee,{url:G,onClick:function(){R.push(H({url:void 0}))}}),Object(c.jsx)(\"div\",{className:\"col-12 col-lg-9\",children:Object(c.jsx)(g,{websiteId:t})}),Object(c.jsx)(\"div\",{className:o()(X.a.filter,\"col-12 col-lg-3\"),children:Object(c.jsx)(K.a,{value:q,startDate:I,endDate:E,onChange:C})})]})}),Object(c.jsx)(\"div\",{className:\"row\",children:Object(c.jsxs)(\"div\",{className:\"col\",children:[V&&Object(c.jsx)(j.a,{}),!w&&Object(c.jsx)(l.a,{websiteId:t,data:Z,unit:L,records:Object(D.c)(I,E,L),loading:U})]})})]})}var ee=function(e){var t=e.url,r=e.onClick;return Object(c.jsx)(\"div\",{className:o()(X.a.url,\"col-12\"),children:Object(c.jsx)(M.a,{icon:Object(c.jsx)(Z.a,{}),onClick:r,variant:\"action\",iconRight:!0,children:t})})}},bzoS:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return b}));var c=r(\"vJKn\"),a=r.n(c),n=r(\"rg98\"),s=r(\"q1tI\"),i=r(\"/MKj\"),o=r(\"20a2\"),l=r(\"jeBt\"),u=r(\"DzNn\");function b(e){var t=Object(o.useRouter)().basePath,r=Object(i.b)(),c=Object(i.c)((function(e){return e.app.shareToken}));function b(){return(b=Object(n.a)(a.a.mark((function e(c){var n,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.b)(\"\".concat(t,\"/api/share/\").concat(c));case 2:n=e.sent,(s=n.data)&&r(Object(u.d)(s));case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(s.useEffect)((function(){e&&function(e){b.apply(this,arguments)}(e)}),[e]),c}},hnLT:function(e,t,r){\"use strict\";var c=r(\"nKUr\"),a=(r(\"q1tI\"),r(\"TSYQ\")),n=r.n(a),s=r(\"IZIc\"),i=r.n(s);t.a=function(e){var t=e.className;return Object(c.jsxs)(\"div\",{className:n()(i.a.loading,t),children:[Object(c.jsx)(\"div\",{}),Object(c.jsx)(\"div\",{}),Object(c.jsx)(\"div\",{})]})}},\"l+P1\":function(e,t,r){e.exports={bar:\"MetricsBar_bar__Tmn6-\"}},u605:function(e,t,r){e.exports={container:\"ActiveUsers_container__21JqF\",text:\"ActiveUsers_text__6F-2f\",value:\"ActiveUsers_value__1HMGv\"}},y4Yb:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return u}));var c=r(\"cpVT\"),a=r(\"xvhg\"),n=r(\"q1tI\"),s=r(\"20a2\"),i=r(\"7T8v\");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,c)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){Object(c.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(){var e=Object(s.useRouter)(),t=location,r=t.pathname,c=t.search,o=Object(n.useMemo)((function(){return c?c.substring(1).split(\"&\").reduce((function(e,t){var r=t.split(\"=\"),c=Object(a.a)(r,2),n=c[0],s=c[1];return e[n]=decodeURIComponent(s),e}),{}):{}}),[c]);return{pathname:r,query:o,resolve:function(t){var r=Object(i.b)(l(l({},o),t)),c=e.asPath;return\"\".concat(c.split(\"?\")[0]).concat(r)},router:e}}}}]);","map":{"version":3,"sources":["static/chunks/60093d6033f5d0fbd8ba885a0d2b21c31d0a500a.0fa6fe259a46bbc007ab.js"],"names":["window","push","4r7v","module","exports","__webpack_require__","error","icon","CDh1","title","link","active","GrYM","container","header","metrics","sticky","filter","url","IZIc","loading","blink","JDPv","__webpack_exports__","_path","react__WEBPACK_IMPORTED_MODULE_0__","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","props","xmlns","viewBox","d","MPiW","ErrorMessage","jsx_runtime","react","message","Icon","exclamation_triangle","ErrorMessage_module","ErrorMessage_module_default","n","className","a","children","size","id","defaultMessage","OiYy","WebsiteChart","defineProperty","slicedToArray","classnames","classnames_default","PageviewsChart","Loading","useFetch","useDateRange","usePageQuery","useShareToken","lib_format","constants","MetricCard","MetricsBar_module","MetricsBar_module_default","MetricsBar","_ref","websiteId","shareToken","_useDateRange","dateRange","startDate","endDate","modified","_useState","format","setFormat","query","_useFetch","concat","params","start_at","end_at","headers","token","data","formatFunc","_ref2","pageviews","uniques","bounces","totaltime","num","Math","min","bar","onClick","state","label","value","Number","toFixed","Link","PageHeader","es","websites","Button","redo","ellipsis_h","date","useLocale","common_RefreshButton","dispatch","_useLocale","locale","setLoading","completed","queries","tooltip","tooltipId","ButtonLayout","Favicon","Dot","ActiveUsers_module","ActiveUsers_module_default","ActiveUsers","interval","count","_data$","x","text","values","arrow_right","WebsiteHeader_module","WebsiteHeader_module_default","WebsiteHeader","domain","_ref$showLink","showLink","href","as","align","iconRight","DateFilter","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","forEach","getOwnPropertyDescriptors","defineProperties","StickyHeader","_ref$current","stickyClassName","stickyStyle","_ref$enabled","enabled","setSticky","ref","top","checkPosition","current","offsetTop","offsetHeight","pageYOffset","addEventListener","removeEventListener","data-sticky","style","width","clientWidth","useTimezone","times","WebsiteChart_module","WebsiteChart_module_default","_ref$stickyHeader","stickyHeader","_ref$hideChart","hideChart","_ref$onDataLoad","onDataLoad","_useDateRange2","setDateRange","unit","_useTimezone","timezone","_usePageQuery","router","resolve","tz","chartData","sessions","WebsiteChart_PageFilter","undefined","onChange","records","variant","bzoS","_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","react_redux__WEBPACK_IMPORTED_MODULE_3__","next_router__WEBPACK_IMPORTED_MODULE_4__","lib_web__WEBPACK_IMPORTED_MODULE_5__","redux_actions_app__WEBPACK_IMPORTED_MODULE_6__","shareId","basePath","app","_loadToken","mark","_callee","_yield$get","wrap","_context","prev","next","sent","stop","_x","loadToken","hnLT","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","classnames__WEBPACK_IMPORTED_MODULE_2__","classnames__WEBPACK_IMPORTED_MODULE_2___default","_Loading_module_css__WEBPACK_IMPORTED_MODULE_3__","_Loading_module_css__WEBPACK_IMPORTED_MODULE_3___default","l+P1","u605","y4Yb","_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","next_router__WEBPACK_IMPORTED_MODULE_3__","lib_url__WEBPACK_IMPORTED_MODULE_4__","_location","location","pathname","search","substring","split","reduce","obj","item","_item$split","_item$split2","decodeURIComponent","asPath"],"mappings":"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"},"name":"static/chunks/60093d6033f5d0fbd8ba885a0d2b21c31d0a500a.0fa6fe259a46bbc007ab.js","input":"(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[13],{\n\n/***/ \"4r7v\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"ErrorMessage_error__3ZjHd\",\"icon\":\"ErrorMessage_icon__1cEeC\"};\n\n/***/ }),\n\n/***/ \"CDh1\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"WebsiteHeader_title__hGIb-\",\"link\":\"WebsiteHeader_link__2bwZL\",\"active\":\"WebsiteHeader_active__5r1FR\"};\n\n/***/ }),\n\n/***/ \"GrYM\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"WebsiteChart_container__3Ep77\",\"title\":\"WebsiteChart_title__2cmt6\",\"header\":\"WebsiteChart_header__3Gb2R\",\"metrics\":\"WebsiteChart_metrics__33aMf\",\"sticky\":\"WebsiteChart_sticky__1O07I\",\"filter\":\"WebsiteChart_filter__2zrCT\",\"url\":\"WebsiteChart_url__qWu22\"};\n\n/***/ }),\n\n/***/ \"IZIc\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"Loading_loading__2pPUq\",\"blink\":\"Loading_blink__1PtEJ\"};\n\n/***/ }),\n\n/***/ \"JDPv\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\nvar _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\nfunction SvgArrowRight(props) {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 448 512\"\n  }, props), _path || (_path = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__[\"createElement\"](\"path\", {\n    d: \"M216.464 36.465l-7.071 7.07c-4.686 4.686-4.686 12.284 0 16.971L387.887 239H12c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h375.887L209.393 451.494c-4.686 4.686-4.686 12.284 0 16.971l7.071 7.07c4.686 4.686 12.284 4.686 16.97 0l211.051-211.05c4.686-4.686 4.686-12.284 0-16.971L233.434 36.465c-4.686-4.687-12.284-4.687-16.97 0z\"\n  })));\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (SvgArrowRight);\n\n/***/ }),\n\n/***/ \"MPiW\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ ErrorMessage; });\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\n\n// EXTERNAL MODULE: ./node_modules/react-intl/lib/src/components/message.js\nvar message = __webpack_require__(\"kriW\");\n\n// EXTERNAL MODULE: ./components/common/Icon.js\nvar Icon = __webpack_require__(\"atwx\");\n\n// CONCATENATED MODULE: ./assets/exclamation-triangle.svg\nvar _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\nfunction SvgExclamationTriangle(props) {\n  return /*#__PURE__*/react[\"createElement\"](\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 576 512\"\n  }, props), _path || (_path = /*#__PURE__*/react[\"createElement\"](\"path\", {\n    d: \"M270.2 160h35.5c3.4 0 6.1 2.8 6 6.2l-7.5 196c-.1 3.2-2.8 5.8-6 5.8h-20.5c-3.2 0-5.9-2.5-6-5.8l-7.5-196c-.1-3.4 2.6-6.2 6-6.2zM288 388c-15.5 0-28 12.5-28 28s12.5 28 28 28 28-12.5 28-28-12.5-28-28-28zm281.5 52L329.6 24c-18.4-32-64.7-32-83.2 0L6.5 440c-18.4 31.9 4.6 72 41.6 72H528c36.8 0 60-40 41.5-72zM528 480H48c-12.3 0-20-13.3-13.9-24l240-416c6.1-10.6 21.6-10.7 27.7 0l240 416c6.2 10.6-1.5 24-13.8 24z\"\n  })));\n}\n\n/* harmony default export */ var exclamation_triangle = (SvgExclamationTriangle);\n// EXTERNAL MODULE: ./components/common/ErrorMessage.module.css\nvar ErrorMessage_module = __webpack_require__(\"4r7v\");\nvar ErrorMessage_module_default = /*#__PURE__*/__webpack_require__.n(ErrorMessage_module);\n\n// CONCATENATED MODULE: ./components/common/ErrorMessage.js\n\n\n\n\n\n\n\nfunction ErrorMessage() {\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n    className: ErrorMessage_module_default.a.error,\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */], {\n      icon: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(exclamation_triangle, {}),\n      className: ErrorMessage_module_default.a.icon,\n      size: \"large\"\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n      id: \"message.failure\",\n      defaultMessage: \"Something went wrong.\"\n    })]\n  });\n}\n\n/***/ }),\n\n/***/ \"OiYy\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"a\", function() { return /* binding */ WebsiteChart; });\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(\"cpVT\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(\"xvhg\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\n\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(\"TSYQ\");\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n\n// EXTERNAL MODULE: ./components/metrics/PageviewsChart.js + 1 modules\nvar PageviewsChart = __webpack_require__(\"rqNM\");\n\n// EXTERNAL MODULE: ./node_modules/react-intl/lib/src/components/message.js\nvar message = __webpack_require__(\"kriW\");\n\n// EXTERNAL MODULE: ./components/common/Loading.js\nvar Loading = __webpack_require__(\"hnLT\");\n\n// EXTERNAL MODULE: ./components/common/ErrorMessage.js + 1 modules\nvar ErrorMessage = __webpack_require__(\"MPiW\");\n\n// EXTERNAL MODULE: ./hooks/useFetch.js\nvar useFetch = __webpack_require__(\"0Kmt\");\n\n// EXTERNAL MODULE: ./hooks/useDateRange.js\nvar useDateRange = __webpack_require__(\"G8Ct\");\n\n// EXTERNAL MODULE: ./hooks/usePageQuery.js\nvar usePageQuery = __webpack_require__(\"y4Yb\");\n\n// EXTERNAL MODULE: ./hooks/useShareToken.js\nvar useShareToken = __webpack_require__(\"bzoS\");\n\n// EXTERNAL MODULE: ./lib/format.js\nvar lib_format = __webpack_require__(\"GGPy\");\n\n// EXTERNAL MODULE: ./lib/constants.js\nvar constants = __webpack_require__(\"YSmr\");\n\n// EXTERNAL MODULE: ./components/metrics/MetricCard.js\nvar MetricCard = __webpack_require__(\"NgRG\");\n\n// EXTERNAL MODULE: ./components/metrics/MetricsBar.module.css\nvar MetricsBar_module = __webpack_require__(\"l+P1\");\nvar MetricsBar_module_default = /*#__PURE__*/__webpack_require__.n(MetricsBar_module);\n\n// CONCATENATED MODULE: ./components/metrics/MetricsBar.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction MetricsBar(_ref) {\n  var websiteId = _ref.websiteId,\n      className = _ref.className;\n  var shareToken = Object(useShareToken[\"a\" /* default */])();\n\n  var _useDateRange = Object(useDateRange[\"a\" /* default */])(websiteId),\n      _useDateRange2 = Object(slicedToArray[\"a\" /* default */])(_useDateRange, 1),\n      dateRange = _useDateRange2[0];\n\n  var startDate = dateRange.startDate,\n      endDate = dateRange.endDate,\n      modified = dateRange.modified;\n\n  var _useState = Object(react[\"useState\"])(true),\n      format = _useState[0],\n      setFormat = _useState[1];\n\n  var _usePageQuery = Object(usePageQuery[\"a\" /* default */])(),\n      url = _usePageQuery.query.url;\n\n  var _useFetch = Object(useFetch[\"a\" /* default */])(\"/api/website/\".concat(websiteId, \"/stats\"), {\n    params: {\n      start_at: +startDate,\n      end_at: +endDate,\n      url: url\n    },\n    headers: Object(defineProperty[\"a\" /* default */])({}, constants[\"r\" /* TOKEN_HEADER */], shareToken === null || shareToken === void 0 ? void 0 : shareToken.token)\n  }, [url, modified]),\n      data = _useFetch.data,\n      error = _useFetch.error,\n      loading = _useFetch.loading;\n\n  var formatFunc = format ? lib_format[\"a\" /* formatLongNumber */] : lib_format[\"b\" /* formatNumber */];\n\n  function handleSetFormat() {\n    setFormat(function (state) {\n      return !state;\n    });\n  }\n\n  var _ref2 = data || {},\n      pageviews = _ref2.pageviews,\n      uniques = _ref2.uniques,\n      bounces = _ref2.bounces,\n      totaltime = _ref2.totaltime;\n\n  var num = Math.min(uniques, bounces);\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n    className: classnames_default()(MetricsBar_module_default.a.bar, className),\n    onClick: handleSetFormat,\n    children: [!data && loading && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Loading[\"a\" /* default */], {}), error && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ErrorMessage[\"a\" /* default */], {}), data && !error && /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"], {\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MetricCard[\"a\" /* default */], {\n        label: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n          id: \"metrics.views\",\n          defaultMessage: \"Views\"\n        }),\n        value: pageviews,\n        format: formatFunc\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MetricCard[\"a\" /* default */], {\n        label: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n          id: \"metrics.visitors\",\n          defaultMessage: \"Visitors\"\n        }),\n        value: uniques,\n        format: formatFunc\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MetricCard[\"a\" /* default */], {\n        label: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n          id: \"metrics.bounce-rate\",\n          defaultMessage: \"Bounce rate\"\n        }),\n        value: uniques ? num / uniques * 100 : 0,\n        format: function format(n) {\n          return Number(n).toFixed(0) + '%';\n        }\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MetricCard[\"a\" /* default */], {\n        label: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n          id: \"metrics.average-visit-time\",\n          defaultMessage: \"Average visit time\"\n        }),\n        value: totaltime && pageviews ? totaltime / (pageviews - bounces) : 0,\n        format: function format(n) {\n          return Object(lib_format[\"c\" /* formatShortTime */])(n, ['m', 's'], ' ');\n        }\n      })]\n    })]\n  });\n}\n// EXTERNAL MODULE: ./components/common/Link.js\nvar Link = __webpack_require__(\"pjx/\");\n\n// EXTERNAL MODULE: ./components/layout/PageHeader.js\nvar PageHeader = __webpack_require__(\"tfvX\");\n\n// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 23 modules\nvar es = __webpack_require__(\"/MKj\");\n\n// EXTERNAL MODULE: ./redux/actions/websites.js\nvar websites = __webpack_require__(\"nn0s\");\n\n// EXTERNAL MODULE: ./components/common/Button.js\nvar Button = __webpack_require__(\"4qaV\");\n\n// CONCATENATED MODULE: ./assets/redo.svg\nvar _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n\n\nfunction SvgRedo(props) {\n  return /*#__PURE__*/react[\"createElement\"](\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\"\n  }, props), _path || (_path = /*#__PURE__*/react[\"createElement\"](\"path\", {\n    d: \"M500 8h-27.711c-6.739 0-12.157 5.548-11.997 12.286l2.347 98.568C418.075 51.834 341.788 7.73 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.165 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-19.738-19.738c-4.498-4.498-11.753-4.785-16.501-.552C351.787 433.246 306.105 452 256 452c-108.322 0-196-87.662-196-196 0-108.322 87.662-196 196-196 79.545 0 147.941 47.282 178.675 115.302l-126.389-3.009c-6.737-.16-12.286 5.257-12.286 11.997V212c0 6.627 5.373 12 12 12h192c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z\"\n  })));\n}\n\n/* harmony default export */ var redo = (SvgRedo);\n// EXTERNAL MODULE: ./assets/ellipsis-h.svg\nvar ellipsis_h = __webpack_require__(\"1ETy\");\n\n// EXTERNAL MODULE: ./lib/date.js + 22 modules\nvar date = __webpack_require__(\"rIuf\");\n\n// EXTERNAL MODULE: ./hooks/useLocale.js\nvar useLocale = __webpack_require__(\"nsFc\");\n\n// CONCATENATED MODULE: ./components/common/RefreshButton.js\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction RefreshButton(_ref) {\n  var websiteId = _ref.websiteId;\n  var dispatch = Object(es[\"b\" /* useDispatch */])();\n\n  var _useLocale = Object(useLocale[\"a\" /* default */])(),\n      _useLocale2 = Object(slicedToArray[\"a\" /* default */])(_useLocale, 1),\n      locale = _useLocale2[0];\n\n  var _useDateRange = Object(useDateRange[\"a\" /* default */])(websiteId),\n      _useDateRange2 = Object(slicedToArray[\"a\" /* default */])(_useDateRange, 1),\n      dateRange = _useDateRange2[0];\n\n  var _useState = Object(react[\"useState\"])(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var completed = Object(es[\"c\" /* useSelector */])(function (state) {\n    return state.queries[\"/api/website/\".concat(websiteId, \"/stats\")];\n  });\n\n  function handleClick() {\n    if (dateRange) {\n      setLoading(true);\n      dispatch(Object(websites[\"b\" /* setDateRange */])(websiteId, Object(date[\"d\" /* getDateRange */])(dateRange.value, locale)));\n    }\n  }\n\n  Object(react[\"useEffect\"])(function () {\n    setLoading(false);\n  }, [completed]);\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */], {\n    icon: loading ? /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ellipsis_h[\"a\" /* default */], {}) : /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(redo, {}),\n    tooltip: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n      id: \"label.refresh\",\n      defaultMessage: \"Refresh\"\n    }),\n    tooltipId: \"button-refresh\",\n    size: \"small\",\n    onClick: handleClick\n  });\n}\n\n/* harmony default export */ var common_RefreshButton = (RefreshButton);\n// EXTERNAL MODULE: ./components/layout/ButtonLayout.js\nvar ButtonLayout = __webpack_require__(\"TOCn\");\n\n// EXTERNAL MODULE: ./components/common/Favicon.js\nvar Favicon = __webpack_require__(\"ZJFB\");\n\n// EXTERNAL MODULE: ./components/common/Dot.js\nvar Dot = __webpack_require__(\"ty6r\");\n\n// EXTERNAL MODULE: ./components/metrics/ActiveUsers.module.css\nvar ActiveUsers_module = __webpack_require__(\"u605\");\nvar ActiveUsers_module_default = /*#__PURE__*/__webpack_require__.n(ActiveUsers_module);\n\n// CONCATENATED MODULE: ./components/metrics/ActiveUsers.js\n\n\n\n\n\n\n\n\n\n\n\nfunction ActiveUsers(_ref) {\n  var websiteId = _ref.websiteId,\n      className = _ref.className;\n  var shareToken = Object(useShareToken[\"a\" /* default */])();\n\n  var _useFetch = Object(useFetch[\"a\" /* default */])(\"/api/website/\".concat(websiteId, \"/active\"), {\n    interval: 60000,\n    headers: Object(defineProperty[\"a\" /* default */])({}, constants[\"r\" /* TOKEN_HEADER */], shareToken === null || shareToken === void 0 ? void 0 : shareToken.token)\n  }),\n      data = _useFetch.data;\n\n  var count = Object(react[\"useMemo\"])(function () {\n    var _data$;\n\n    return (data === null || data === void 0 ? void 0 : (_data$ = data[0]) === null || _data$ === void 0 ? void 0 : _data$.x) || 0;\n  }, [data]);\n\n  if (count === 0) {\n    return null;\n  }\n\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n    className: classnames_default()(ActiveUsers_module_default.a.container, className),\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dot[\"a\" /* default */], {}), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n      className: ActiveUsers_module_default.a.text,\n      children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n        children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n          id: \"message.active-users\",\n          defaultMessage: \"{x} current {x, plural, one {visitor} other {visitors}}\",\n          values: {\n            x: count\n          }\n        })\n      })\n    })]\n  });\n}\n// EXTERNAL MODULE: ./assets/arrow-right.svg\nvar arrow_right = __webpack_require__(\"JDPv\");\n\n// EXTERNAL MODULE: ./components/metrics/WebsiteHeader.module.css\nvar WebsiteHeader_module = __webpack_require__(\"CDh1\");\nvar WebsiteHeader_module_default = /*#__PURE__*/__webpack_require__.n(WebsiteHeader_module);\n\n// CONCATENATED MODULE: ./components/metrics/WebsiteHeader.js\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction WebsiteHeader(_ref) {\n  var websiteId = _ref.websiteId,\n      title = _ref.title,\n      domain = _ref.domain,\n      _ref$showLink = _ref.showLink,\n      showLink = _ref$showLink === void 0 ? false : _ref$showLink;\n  var header = showLink ? /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"], {\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Favicon[\"a\" /* default */], {\n      domain: domain\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Link[\"a\" /* default */], {\n      href: \"/website/[...id]\",\n      as: \"/website/\".concat(websiteId, \"/\").concat(title),\n      children: title\n    })]\n  }) : /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Favicon[\"a\" /* default */], {\n      domain: domain\n    }), title]\n  });\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(PageHeader[\"a\" /* default */], {\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n      className: WebsiteHeader_module_default.a.title,\n      children: header\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ActiveUsers, {\n      className: WebsiteHeader_module_default.a.active,\n      websiteId: websiteId\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ButtonLayout[\"a\" /* default */], {\n      align: \"right\",\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(common_RefreshButton, {\n        websiteId: websiteId\n      }), showLink && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Link[\"a\" /* default */], {\n        href: \"/website/[...id]\",\n        as: \"/website/\".concat(websiteId, \"/\").concat(title),\n        className: WebsiteHeader_module_default.a.link,\n        icon: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(arrow_right[\"a\" /* default */], {}),\n        size: \"small\",\n        iconRight: true,\n        children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(message[\"a\" /* default */], {\n          id: \"label.view-details\",\n          defaultMessage: \"View details\"\n        })\n      })]\n    })]\n  });\n}\n// EXTERNAL MODULE: ./components/common/DateFilter.js + 10 modules\nvar DateFilter = __webpack_require__(\"NC3K\");\n\n// CONCATENATED MODULE: ./components/helpers/StickyHeader.js\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(defineProperty[\"a\" /* default */])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\nfunction StickyHeader(_ref) {\n  var _ref$current;\n\n  var className = _ref.className,\n      stickyClassName = _ref.stickyClassName,\n      stickyStyle = _ref.stickyStyle,\n      children = _ref.children,\n      _ref$enabled = _ref.enabled,\n      enabled = _ref$enabled === void 0 ? true : _ref$enabled;\n\n  var _useState = Object(react[\"useState\"])(false),\n      sticky = _useState[0],\n      setSticky = _useState[1];\n\n  var ref = Object(react[\"useRef\"])();\n  var top = Object(react[\"useRef\"])(0);\n  Object(react[\"useEffect\"])(function () {\n    var checkPosition = function checkPosition() {\n      if (ref.current) {\n        if (!top.current) {\n          top.current = ref.current.offsetTop + ref.current.offsetHeight;\n        }\n\n        var state = window.pageYOffset > top.current;\n\n        if (sticky !== state) {\n          setSticky(state);\n        }\n      }\n    };\n\n    checkPosition();\n\n    if (enabled) {\n      window.addEventListener('scroll', checkPosition);\n    }\n\n    return function () {\n      window.removeEventListener('scroll', checkPosition);\n    };\n  }, [sticky, enabled]);\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n    ref: ref,\n    \"data-sticky\": sticky,\n    className: classnames_default()(className, Object(defineProperty[\"a\" /* default */])({}, stickyClassName, sticky)),\n    style: sticky ? _objectSpread(_objectSpread({}, stickyStyle), {}, {\n      width: ref === null || ref === void 0 ? void 0 : (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.clientWidth\n    }) : null,\n    children: children\n  });\n}\n// EXTERNAL MODULE: ./hooks/useTimezone.js\nvar useTimezone = __webpack_require__(\"TdLA\");\n\n// EXTERNAL MODULE: ./assets/times.svg\nvar times = __webpack_require__(\"InOs\");\n\n// EXTERNAL MODULE: ./components/metrics/WebsiteChart.module.css\nvar WebsiteChart_module = __webpack_require__(\"GrYM\");\nvar WebsiteChart_module_default = /*#__PURE__*/__webpack_require__.n(WebsiteChart_module);\n\n// CONCATENATED MODULE: ./components/metrics/WebsiteChart.js\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction WebsiteChart(_ref) {\n  var websiteId = _ref.websiteId,\n      title = _ref.title,\n      domain = _ref.domain,\n      _ref$stickyHeader = _ref.stickyHeader,\n      stickyHeader = _ref$stickyHeader === void 0 ? false : _ref$stickyHeader,\n      _ref$showLink = _ref.showLink,\n      showLink = _ref$showLink === void 0 ? false : _ref$showLink,\n      _ref$hideChart = _ref.hideChart,\n      hideChart = _ref$hideChart === void 0 ? false : _ref$hideChart,\n      _ref$onDataLoad = _ref.onDataLoad,\n      onDataLoad = _ref$onDataLoad === void 0 ? function () {} : _ref$onDataLoad;\n  var shareToken = Object(useShareToken[\"a\" /* default */])();\n\n  var _useDateRange = Object(useDateRange[\"a\" /* default */])(websiteId),\n      _useDateRange2 = Object(slicedToArray[\"a\" /* default */])(_useDateRange, 2),\n      dateRange = _useDateRange2[0],\n      setDateRange = _useDateRange2[1];\n\n  var startDate = dateRange.startDate,\n      endDate = dateRange.endDate,\n      unit = dateRange.unit,\n      value = dateRange.value,\n      modified = dateRange.modified;\n\n  var _useTimezone = Object(useTimezone[\"a\" /* default */])(),\n      _useTimezone2 = Object(slicedToArray[\"a\" /* default */])(_useTimezone, 1),\n      timezone = _useTimezone2[0];\n\n  var _usePageQuery = Object(usePageQuery[\"a\" /* default */])(),\n      router = _usePageQuery.router,\n      resolve = _usePageQuery.resolve,\n      url = _usePageQuery.query.url;\n\n  var _useFetch = Object(useFetch[\"a\" /* default */])(\"/api/website/\".concat(websiteId, \"/pageviews\"), {\n    params: {\n      start_at: +startDate,\n      end_at: +endDate,\n      unit: unit,\n      tz: timezone,\n      url: url\n    },\n    onDataLoad: onDataLoad,\n    headers: Object(defineProperty[\"a\" /* default */])({}, constants[\"r\" /* TOKEN_HEADER */], shareToken === null || shareToken === void 0 ? void 0 : shareToken.token)\n  }, [url, modified]),\n      data = _useFetch.data,\n      loading = _useFetch.loading,\n      error = _useFetch.error;\n\n  var chartData = Object(react[\"useMemo\"])(function () {\n    if (data) {\n      return {\n        pageviews: Object(date[\"b\" /* getDateArray */])(data.pageviews, startDate, endDate, unit),\n        sessions: Object(date[\"b\" /* getDateArray */])(data.sessions, startDate, endDate, unit)\n      };\n    }\n\n    return {\n      pageviews: [],\n      sessions: []\n    };\n  }, [data]);\n\n  function handleCloseFilter() {\n    router.push(resolve({\n      url: undefined\n    }));\n  }\n\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n    className: WebsiteChart_module_default.a.container,\n    children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WebsiteHeader, {\n      websiteId: websiteId,\n      title: title,\n      domain: domain,\n      showLink: showLink\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n      className: classnames_default()(WebsiteChart_module_default.a.header, 'row'),\n      children: /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(StickyHeader, {\n        className: classnames_default()(WebsiteChart_module_default.a.metrics, 'col row'),\n        stickyClassName: WebsiteChart_module_default.a.sticky,\n        enabled: stickyHeader,\n        children: [url && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WebsiteChart_PageFilter, {\n          url: url,\n          onClick: handleCloseFilter\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n          className: \"col-12 col-lg-9\",\n          children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MetricsBar, {\n            websiteId: websiteId\n          })\n        }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n          className: classnames_default()(WebsiteChart_module_default.a.filter, 'col-12 col-lg-3'),\n          children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DateFilter[\"a\" /* default */], {\n            value: value,\n            startDate: startDate,\n            endDate: endDate,\n            onChange: setDateRange\n          })\n        })]\n      })\n    }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n        className: \"col\",\n        children: [error && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ErrorMessage[\"a\" /* default */], {}), !hideChart && /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(PageviewsChart[\"a\" /* default */], {\n          websiteId: websiteId,\n          data: chartData,\n          unit: unit,\n          records: Object(date[\"c\" /* getDateLength */])(startDate, endDate, unit),\n          loading: loading\n        })]\n      })\n    })]\n  });\n}\n\nvar WebsiteChart_PageFilter = function PageFilter(_ref2) {\n  var url = _ref2.url,\n      onClick = _ref2.onClick;\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n    className: classnames_default()(WebsiteChart_module_default.a.url, 'col-12'),\n    children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */], {\n      icon: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(times[\"a\" /* default */], {}),\n      onClick: onClick,\n      variant: \"action\",\n      iconRight: true,\n      children: url\n    })\n  });\n};\n\n/***/ }),\n\n/***/ \"bzoS\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return useShareToken; });\n/* harmony import */ var _Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var _Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"rg98\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"/MKj\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var lib_web__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"jeBt\");\n/* harmony import */ var redux_actions_app__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"DzNn\");\n\n\n\n\n\n\n\nfunction useShareToken(shareId) {\n  var _useRouter = Object(next_router__WEBPACK_IMPORTED_MODULE_4__[\"useRouter\"])(),\n      basePath = _useRouter.basePath;\n\n  var dispatch = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[/* useDispatch */ \"b\"])();\n  var shareToken = Object(react_redux__WEBPACK_IMPORTED_MODULE_3__[/* useSelector */ \"c\"])(function (state) {\n    return state.app.shareToken;\n  });\n\n  function loadToken(_x) {\n    return _loadToken.apply(this, arguments);\n  }\n\n  function _loadToken() {\n    _loadToken = Object(_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(id) {\n      var _yield$get, data;\n\n      return _Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return Object(lib_web__WEBPACK_IMPORTED_MODULE_5__[/* get */ \"b\"])(\"\".concat(basePath, \"/api/share/\").concat(id));\n\n            case 2:\n              _yield$get = _context.sent;\n              data = _yield$get.data;\n\n              if (data) {\n                dispatch(Object(redux_actions_app__WEBPACK_IMPORTED_MODULE_6__[/* setShareToken */ \"d\"])(data));\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _loadToken.apply(this, arguments);\n  }\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    if (shareId) {\n      loadToken(shareId);\n    }\n  }, [shareId]);\n  return shareToken;\n}\n\n/***/ }),\n\n/***/ \"hnLT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"TSYQ\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Loading_module_css__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"IZIc\");\n/* harmony import */ var _Loading_module_css__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_Loading_module_css__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n\n\nfunction Loading(_ref) {\n  var className = _ref.className;\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_2___default()(_Loading_module_css__WEBPACK_IMPORTED_MODULE_3___default.a.loading, className),\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {}), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {}), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {})]\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Loading);\n\n/***/ }),\n\n/***/ \"l+P1\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"bar\":\"MetricsBar_bar__Tmn6-\"};\n\n/***/ }),\n\n/***/ \"u605\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ActiveUsers_container__21JqF\",\"text\":\"ActiveUsers_text__6F-2f\",\"value\":\"ActiveUsers_value__1HMGv\"};\n\n/***/ }),\n\n/***/ \"y4Yb\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return usePageQuery; });\n/* harmony import */ var _Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"cpVT\");\n/* harmony import */ var _Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"xvhg\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lib_url__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"7T8v\");\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\nfunction usePageQuery() {\n  var router = Object(next_router__WEBPACK_IMPORTED_MODULE_3__[\"useRouter\"])();\n  var _location = location,\n      pathname = _location.pathname,\n      search = _location.search;\n  var query = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useMemo\"])(function () {\n    if (!search) {\n      return {};\n    }\n\n    var params = search.substring(1).split('&');\n    return params.reduce(function (obj, item) {\n      var _item$split = item.split('='),\n          _item$split2 = Object(_Users_t_Documents_2_Work_Qiekub_code_umami_umami_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_item$split, 2),\n          key = _item$split2[0],\n          value = _item$split2[1];\n\n      obj[key] = decodeURIComponent(value);\n      return obj;\n    }, {});\n  }, [search]);\n\n  function resolve(params) {\n    var search = Object(lib_url__WEBPACK_IMPORTED_MODULE_4__[/* getQueryString */ \"b\"])(_objectSpread(_objectSpread({}, query), params));\n    var asPath = router.asPath;\n    return \"\".concat(asPath.split('?')[0]).concat(search);\n  }\n\n  return {\n    pathname: pathname,\n    query: query,\n    resolve: resolve,\n    router: router\n  };\n}\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/plugins/mini-css-extract-plugin/src/loader.js??ref--5-oneOf-2-0!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/compiled/css-loader/cjs.js??ref--5-oneOf-2-1!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/compiled/postcss-loader/cjs.js??ref--5-oneOf-2-2!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/common/ErrorMessage.module.css","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/plugins/mini-css-extract-plugin/src/loader.js??ref--5-oneOf-2-0!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/compiled/css-loader/cjs.js??ref--5-oneOf-2-1!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/compiled/postcss-loader/cjs.js??ref--5-oneOf-2-2!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/metrics/WebsiteHeader.module.css","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/plugins/mini-css-extract-plugin/src/loader.js??ref--5-oneOf-2-0!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/compiled/css-loader/cjs.js??ref--5-oneOf-2-1!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/compiled/postcss-loader/cjs.js??ref--5-oneOf-2-2!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/metrics/WebsiteChart.module.css","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/plugins/mini-css-extract-plugin/src/loader.js??ref--5-oneOf-2-0!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/compiled/css-loader/cjs.js??ref--5-oneOf-2-1!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/compiled/postcss-loader/cjs.js??ref--5-oneOf-2-2!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/common/Loading.module.css","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/@svgr/webpack/lib/index.js!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/assets/arrow-right.svg","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/@svgr/webpack/lib/index.js!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/assets/exclamation-triangle.svg","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/common/ErrorMessage.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/metrics/MetricsBar.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/@svgr/webpack/lib/index.js!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/assets/redo.svg","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/common/RefreshButton.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/metrics/ActiveUsers.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/metrics/WebsiteHeader.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/helpers/StickyHeader.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/metrics/WebsiteChart.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/hooks/useShareToken.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/common/Loading.js","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/plugins/mini-css-extract-plugin/src/loader.js??ref--5-oneOf-2-0!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/compiled/css-loader/cjs.js??ref--5-oneOf-2-1!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/compiled/postcss-loader/cjs.js??ref--5-oneOf-2-2!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/metrics/MetricsBar.module.css","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/plugins/mini-css-extract-plugin/src/loader.js??ref--5-oneOf-2-0!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/compiled/css-loader/cjs.js??ref--5-oneOf-2-1!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/compiled/postcss-loader/cjs.js??ref--5-oneOf-2-2!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/components/metrics/ActiveUsers.module.css","/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/t/Documents_2/Work/Qiekub/code/umami/umami/hooks/usePageQuery.js"],"names":[],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"ErrorMessage_error__3ZjHd\",\"icon\":\"ErrorMessage_icon__1cEeC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"WebsiteHeader_title__hGIb-\",\"link\":\"WebsiteHeader_link__2bwZL\",\"active\":\"WebsiteHeader_active__5r1FR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"WebsiteChart_container__3Ep77\",\"title\":\"WebsiteChart_title__2cmt6\",\"header\":\"WebsiteChart_header__3Gb2R\",\"metrics\":\"WebsiteChart_metrics__33aMf\",\"sticky\":\"WebsiteChart_sticky__1O07I\",\"filter\":\"WebsiteChart_filter__2zrCT\",\"url\":\"WebsiteChart_url__qWu22\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"Loading_loading__2pPUq\",\"blink\":\"Loading_blink__1PtEJ\"};","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgArrowRight(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 448 512\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M216.464 36.465l-7.071 7.07c-4.686 4.686-4.686 12.284 0 16.971L387.887 239H12c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h375.887L209.393 451.494c-4.686 4.686-4.686 12.284 0 16.971l7.071 7.07c4.686 4.686 12.284 4.686 16.97 0l211.051-211.05c4.686-4.686 4.686-12.284 0-16.971L233.434 36.465c-4.686-4.687-12.284-4.687-16.97 0z\"\n  })));\n}\n\nexport default SvgArrowRight;","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgExclamationTriangle(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 576 512\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M270.2 160h35.5c3.4 0 6.1 2.8 6 6.2l-7.5 196c-.1 3.2-2.8 5.8-6 5.8h-20.5c-3.2 0-5.9-2.5-6-5.8l-7.5-196c-.1-3.4 2.6-6.2 6-6.2zM288 388c-15.5 0-28 12.5-28 28s12.5 28 28 28 28-12.5 28-28-12.5-28-28-28zm281.5 52L329.6 24c-18.4-32-64.7-32-83.2 0L6.5 440c-18.4 31.9 4.6 72 41.6 72H528c36.8 0 60-40 41.5-72zM528 480H48c-12.3 0-20-13.3-13.9-24l240-416c6.1-10.6 21.6-10.7 27.7 0l240 416c6.2 10.6-1.5 24-13.8 24z\"\n  })));\n}\n\nexport default SvgExclamationTriangle;","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Icon from './Icon';\nimport Exclamation from 'assets/exclamation-triangle.svg';\nimport styles from './ErrorMessage.module.css';\nexport default function ErrorMessage() {\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: styles.error,\n    children: [/*#__PURE__*/_jsx(Icon, {\n      icon: /*#__PURE__*/_jsx(Exclamation, {}),\n      className: styles.icon,\n      size: \"large\"\n    }), /*#__PURE__*/_jsx(FormattedMessage, {\n      id: \"message.failure\",\n      defaultMessage: \"Something went wrong.\"\n    })]\n  });\n}","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport classNames from 'classnames';\nimport Loading from 'components/common/Loading';\nimport ErrorMessage from 'components/common/ErrorMessage';\nimport useFetch from 'hooks/useFetch';\nimport useDateRange from 'hooks/useDateRange';\nimport usePageQuery from 'hooks/usePageQuery';\nimport useShareToken from 'hooks/useShareToken';\nimport { formatShortTime, formatNumber, formatLongNumber } from 'lib/format';\nimport { TOKEN_HEADER } from 'lib/constants';\nimport MetricCard from './MetricCard';\nimport styles from './MetricsBar.module.css';\nexport default function MetricsBar(_ref) {\n  var websiteId = _ref.websiteId,\n      className = _ref.className;\n  var shareToken = useShareToken();\n\n  var _useDateRange = useDateRange(websiteId),\n      _useDateRange2 = _slicedToArray(_useDateRange, 1),\n      dateRange = _useDateRange2[0];\n\n  var startDate = dateRange.startDate,\n      endDate = dateRange.endDate,\n      modified = dateRange.modified;\n\n  var _useState = useState(true),\n      format = _useState[0],\n      setFormat = _useState[1];\n\n  var _usePageQuery = usePageQuery(),\n      url = _usePageQuery.query.url;\n\n  var _useFetch = useFetch(\"/api/website/\".concat(websiteId, \"/stats\"), {\n    params: {\n      start_at: +startDate,\n      end_at: +endDate,\n      url: url\n    },\n    headers: _defineProperty({}, TOKEN_HEADER, shareToken === null || shareToken === void 0 ? void 0 : shareToken.token)\n  }, [url, modified]),\n      data = _useFetch.data,\n      error = _useFetch.error,\n      loading = _useFetch.loading;\n\n  var formatFunc = format ? formatLongNumber : formatNumber;\n\n  function handleSetFormat() {\n    setFormat(function (state) {\n      return !state;\n    });\n  }\n\n  var _ref2 = data || {},\n      pageviews = _ref2.pageviews,\n      uniques = _ref2.uniques,\n      bounces = _ref2.bounces,\n      totaltime = _ref2.totaltime;\n\n  var num = Math.min(uniques, bounces);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: classNames(styles.bar, className),\n    onClick: handleSetFormat,\n    children: [!data && loading && /*#__PURE__*/_jsx(Loading, {}), error && /*#__PURE__*/_jsx(ErrorMessage, {}), data && !error && /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(MetricCard, {\n        label: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"metrics.views\",\n          defaultMessage: \"Views\"\n        }),\n        value: pageviews,\n        format: formatFunc\n      }), /*#__PURE__*/_jsx(MetricCard, {\n        label: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"metrics.visitors\",\n          defaultMessage: \"Visitors\"\n        }),\n        value: uniques,\n        format: formatFunc\n      }), /*#__PURE__*/_jsx(MetricCard, {\n        label: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"metrics.bounce-rate\",\n          defaultMessage: \"Bounce rate\"\n        }),\n        value: uniques ? num / uniques * 100 : 0,\n        format: function format(n) {\n          return Number(n).toFixed(0) + '%';\n        }\n      }), /*#__PURE__*/_jsx(MetricCard, {\n        label: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"metrics.average-visit-time\",\n          defaultMessage: \"Average visit time\"\n        }),\n        value: totaltime && pageviews ? totaltime / (pageviews - bounces) : 0,\n        format: function format(n) {\n          return formatShortTime(n, ['m', 's'], ' ');\n        }\n      })]\n    })]\n  });\n}","var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgRedo(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 512 512\"\n  }, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M500 8h-27.711c-6.739 0-12.157 5.548-11.997 12.286l2.347 98.568C418.075 51.834 341.788 7.73 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.165 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-19.738-19.738c-4.498-4.498-11.753-4.785-16.501-.552C351.787 433.246 306.105 452 256 452c-108.322 0-196-87.662-196-196 0-108.322 87.662-196 196-196 79.545 0 147.941 47.282 178.675 115.302l-126.389-3.009c-6.737-.16-12.286 5.257-12.286 11.997V212c0 6.627 5.373 12 12 12h192c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z\"\n  })));\n}\n\nexport default SvgRedo;","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport _slicedToArray from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { FormattedMessage } from 'react-intl';\nimport { setDateRange } from 'redux/actions/websites';\nimport Button from './Button';\nimport Refresh from 'assets/redo.svg';\nimport Dots from 'assets/ellipsis-h.svg';\nimport useDateRange from 'hooks/useDateRange';\nimport { getDateRange } from '../../lib/date';\nimport useLocale from 'hooks/useLocale';\n\nfunction RefreshButton(_ref) {\n  var websiteId = _ref.websiteId;\n  var dispatch = useDispatch();\n\n  var _useLocale = useLocale(),\n      _useLocale2 = _slicedToArray(_useLocale, 1),\n      locale = _useLocale2[0];\n\n  var _useDateRange = useDateRange(websiteId),\n      _useDateRange2 = _slicedToArray(_useDateRange, 1),\n      dateRange = _useDateRange2[0];\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  var completed = useSelector(function (state) {\n    return state.queries[\"/api/website/\".concat(websiteId, \"/stats\")];\n  });\n\n  function handleClick() {\n    if (dateRange) {\n      setLoading(true);\n      dispatch(setDateRange(websiteId, getDateRange(dateRange.value, locale)));\n    }\n  }\n\n  useEffect(function () {\n    setLoading(false);\n  }, [completed]);\n  return /*#__PURE__*/_jsx(Button, {\n    icon: loading ? /*#__PURE__*/_jsx(Dots, {}) : /*#__PURE__*/_jsx(Refresh, {}),\n    tooltip: /*#__PURE__*/_jsx(FormattedMessage, {\n      id: \"label.refresh\",\n      defaultMessage: \"Refresh\"\n    }),\n    tooltipId: \"button-refresh\",\n    size: \"small\",\n    onClick: handleClick\n  });\n}\n\nexport default RefreshButton;","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport React, { useMemo } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport classNames from 'classnames';\nimport useFetch from 'hooks/useFetch';\nimport Dot from 'components/common/Dot';\nimport { TOKEN_HEADER } from 'lib/constants';\nimport useShareToken from 'hooks/useShareToken';\nimport styles from './ActiveUsers.module.css';\nexport default function ActiveUsers(_ref) {\n  var websiteId = _ref.websiteId,\n      className = _ref.className;\n  var shareToken = useShareToken();\n\n  var _useFetch = useFetch(\"/api/website/\".concat(websiteId, \"/active\"), {\n    interval: 60000,\n    headers: _defineProperty({}, TOKEN_HEADER, shareToken === null || shareToken === void 0 ? void 0 : shareToken.token)\n  }),\n      data = _useFetch.data;\n\n  var count = useMemo(function () {\n    var _data$;\n\n    return (data === null || data === void 0 ? void 0 : (_data$ = data[0]) === null || _data$ === void 0 ? void 0 : _data$.x) || 0;\n  }, [data]);\n\n  if (count === 0) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: classNames(styles.container, className),\n    children: [/*#__PURE__*/_jsx(Dot, {}), /*#__PURE__*/_jsx(\"div\", {\n      className: styles.text,\n      children: /*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"message.active-users\",\n          defaultMessage: \"{x} current {x, plural, one {visitor} other {visitors}}\",\n          values: {\n            x: count\n          }\n        })\n      })\n    })]\n  });\n}","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport Link from 'components/common/Link';\nimport PageHeader from 'components/layout/PageHeader';\nimport RefreshButton from 'components/common/RefreshButton';\nimport ButtonLayout from 'components/layout/ButtonLayout';\nimport Favicon from 'components/common/Favicon';\nimport ActiveUsers from './ActiveUsers';\nimport Arrow from 'assets/arrow-right.svg';\nimport styles from './WebsiteHeader.module.css';\nexport default function WebsiteHeader(_ref) {\n  var websiteId = _ref.websiteId,\n      title = _ref.title,\n      domain = _ref.domain,\n      _ref$showLink = _ref.showLink,\n      showLink = _ref$showLink === void 0 ? false : _ref$showLink;\n  var header = showLink ? /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(Favicon, {\n      domain: domain\n    }), /*#__PURE__*/_jsx(Link, {\n      href: \"/website/[...id]\",\n      as: \"/website/\".concat(websiteId, \"/\").concat(title),\n      children: title\n    })]\n  }) : /*#__PURE__*/_jsxs(\"div\", {\n    children: [/*#__PURE__*/_jsx(Favicon, {\n      domain: domain\n    }), title]\n  });\n  return /*#__PURE__*/_jsxs(PageHeader, {\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: styles.title,\n      children: header\n    }), /*#__PURE__*/_jsx(ActiveUsers, {\n      className: styles.active,\n      websiteId: websiteId\n    }), /*#__PURE__*/_jsxs(ButtonLayout, {\n      align: \"right\",\n      children: [/*#__PURE__*/_jsx(RefreshButton, {\n        websiteId: websiteId\n      }), showLink && /*#__PURE__*/_jsx(Link, {\n        href: \"/website/[...id]\",\n        as: \"/website/\".concat(websiteId, \"/\").concat(title),\n        className: styles.link,\n        icon: /*#__PURE__*/_jsx(Arrow, {}),\n        size: \"small\",\n        iconRight: true,\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"label.view-details\",\n          defaultMessage: \"View details\"\n        })\n      })]\n    })]\n  });\n}","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport classNames from 'classnames';\nexport default function StickyHeader(_ref) {\n  var _ref$current;\n\n  var className = _ref.className,\n      stickyClassName = _ref.stickyClassName,\n      stickyStyle = _ref.stickyStyle,\n      children = _ref.children,\n      _ref$enabled = _ref.enabled,\n      enabled = _ref$enabled === void 0 ? true : _ref$enabled;\n\n  var _useState = useState(false),\n      sticky = _useState[0],\n      setSticky = _useState[1];\n\n  var ref = useRef();\n  var top = useRef(0);\n  useEffect(function () {\n    var checkPosition = function checkPosition() {\n      if (ref.current) {\n        if (!top.current) {\n          top.current = ref.current.offsetTop + ref.current.offsetHeight;\n        }\n\n        var state = window.pageYOffset > top.current;\n\n        if (sticky !== state) {\n          setSticky(state);\n        }\n      }\n    };\n\n    checkPosition();\n\n    if (enabled) {\n      window.addEventListener('scroll', checkPosition);\n    }\n\n    return function () {\n      window.removeEventListener('scroll', checkPosition);\n    };\n  }, [sticky, enabled]);\n  return /*#__PURE__*/_jsx(\"div\", {\n    ref: ref,\n    \"data-sticky\": sticky,\n    className: classNames(className, _defineProperty({}, stickyClassName, sticky)),\n    style: sticky ? _objectSpread(_objectSpread({}, stickyStyle), {}, {\n      width: ref === null || ref === void 0 ? void 0 : (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.clientWidth\n    }) : null,\n    children: children\n  });\n}","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { useMemo } from 'react';\nimport classNames from 'classnames';\nimport PageviewsChart from './PageviewsChart';\nimport MetricsBar from './MetricsBar';\nimport WebsiteHeader from './WebsiteHeader';\nimport DateFilter from 'components/common/DateFilter';\nimport StickyHeader from 'components/helpers/StickyHeader';\nimport Button from 'components/common/Button';\nimport useFetch from 'hooks/useFetch';\nimport useDateRange from 'hooks/useDateRange';\nimport useTimezone from 'hooks/useTimezone';\nimport usePageQuery from 'hooks/usePageQuery';\nimport { getDateArray, getDateLength } from 'lib/date';\nimport Times from 'assets/times.svg';\nimport styles from './WebsiteChart.module.css';\nimport ErrorMessage from '../common/ErrorMessage';\nimport useShareToken from '../../hooks/useShareToken';\nimport { TOKEN_HEADER } from '../../lib/constants';\nexport default function WebsiteChart(_ref) {\n  var websiteId = _ref.websiteId,\n      title = _ref.title,\n      domain = _ref.domain,\n      _ref$stickyHeader = _ref.stickyHeader,\n      stickyHeader = _ref$stickyHeader === void 0 ? false : _ref$stickyHeader,\n      _ref$showLink = _ref.showLink,\n      showLink = _ref$showLink === void 0 ? false : _ref$showLink,\n      _ref$hideChart = _ref.hideChart,\n      hideChart = _ref$hideChart === void 0 ? false : _ref$hideChart,\n      _ref$onDataLoad = _ref.onDataLoad,\n      onDataLoad = _ref$onDataLoad === void 0 ? function () {} : _ref$onDataLoad;\n  var shareToken = useShareToken();\n\n  var _useDateRange = useDateRange(websiteId),\n      _useDateRange2 = _slicedToArray(_useDateRange, 2),\n      dateRange = _useDateRange2[0],\n      setDateRange = _useDateRange2[1];\n\n  var startDate = dateRange.startDate,\n      endDate = dateRange.endDate,\n      unit = dateRange.unit,\n      value = dateRange.value,\n      modified = dateRange.modified;\n\n  var _useTimezone = useTimezone(),\n      _useTimezone2 = _slicedToArray(_useTimezone, 1),\n      timezone = _useTimezone2[0];\n\n  var _usePageQuery = usePageQuery(),\n      router = _usePageQuery.router,\n      resolve = _usePageQuery.resolve,\n      url = _usePageQuery.query.url;\n\n  var _useFetch = useFetch(\"/api/website/\".concat(websiteId, \"/pageviews\"), {\n    params: {\n      start_at: +startDate,\n      end_at: +endDate,\n      unit: unit,\n      tz: timezone,\n      url: url\n    },\n    onDataLoad: onDataLoad,\n    headers: _defineProperty({}, TOKEN_HEADER, shareToken === null || shareToken === void 0 ? void 0 : shareToken.token)\n  }, [url, modified]),\n      data = _useFetch.data,\n      loading = _useFetch.loading,\n      error = _useFetch.error;\n\n  var chartData = useMemo(function () {\n    if (data) {\n      return {\n        pageviews: getDateArray(data.pageviews, startDate, endDate, unit),\n        sessions: getDateArray(data.sessions, startDate, endDate, unit)\n      };\n    }\n\n    return {\n      pageviews: [],\n      sessions: []\n    };\n  }, [data]);\n\n  function handleCloseFilter() {\n    router.push(resolve({\n      url: undefined\n    }));\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsx(WebsiteHeader, {\n      websiteId: websiteId,\n      title: title,\n      domain: domain,\n      showLink: showLink\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: classNames(styles.header, 'row'),\n      children: /*#__PURE__*/_jsxs(StickyHeader, {\n        className: classNames(styles.metrics, 'col row'),\n        stickyClassName: styles.sticky,\n        enabled: stickyHeader,\n        children: [url && /*#__PURE__*/_jsx(PageFilter, {\n          url: url,\n          onClick: handleCloseFilter\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"col-12 col-lg-9\",\n          children: /*#__PURE__*/_jsx(MetricsBar, {\n            websiteId: websiteId\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: classNames(styles.filter, 'col-12 col-lg-3'),\n          children: /*#__PURE__*/_jsx(DateFilter, {\n            value: value,\n            startDate: startDate,\n            endDate: endDate,\n            onChange: setDateRange\n          })\n        })]\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \"col\",\n        children: [error && /*#__PURE__*/_jsx(ErrorMessage, {}), !hideChart && /*#__PURE__*/_jsx(PageviewsChart, {\n          websiteId: websiteId,\n          data: chartData,\n          unit: unit,\n          records: getDateLength(startDate, endDate, unit),\n          loading: loading\n        })]\n      })\n    })]\n  });\n}\n\nvar PageFilter = function PageFilter(_ref2) {\n  var url = _ref2.url,\n      onClick = _ref2.onClick;\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: classNames(styles.url, 'col-12'),\n    children: /*#__PURE__*/_jsx(Button, {\n      icon: /*#__PURE__*/_jsx(Times, {}),\n      onClick: onClick,\n      variant: \"action\",\n      iconRight: true,\n      children: url\n    })\n  });\n};","import _regeneratorRuntime from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useRouter } from 'next/router';\nimport { get } from 'lib/web';\nimport { setShareToken } from 'redux/actions/app';\nexport default function useShareToken(shareId) {\n  var _useRouter = useRouter(),\n      basePath = _useRouter.basePath;\n\n  var dispatch = useDispatch();\n  var shareToken = useSelector(function (state) {\n    return state.app.shareToken;\n  });\n\n  function loadToken(_x) {\n    return _loadToken.apply(this, arguments);\n  }\n\n  function _loadToken() {\n    _loadToken = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(id) {\n      var _yield$get, data;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return get(\"\".concat(basePath, \"/api/share/\").concat(id));\n\n            case 2:\n              _yield$get = _context.sent;\n              data = _yield$get.data;\n\n              if (data) {\n                dispatch(setShareToken(data));\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _loadToken.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    if (shareId) {\n      loadToken(shareId);\n    }\n  }, [shareId]);\n  return shareToken;\n}","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport classNames from 'classnames';\nimport styles from './Loading.module.css';\n\nfunction Loading(_ref) {\n  var className = _ref.className;\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: classNames(styles.loading, className),\n    children: [/*#__PURE__*/_jsx(\"div\", {}), /*#__PURE__*/_jsx(\"div\", {}), /*#__PURE__*/_jsx(\"div\", {})]\n  });\n}\n\nexport default Loading;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bar\":\"MetricsBar_bar__Tmn6-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ActiveUsers_container__21JqF\",\"text\":\"ActiveUsers_text__6F-2f\",\"value\":\"ActiveUsers_value__1HMGv\"};","import _defineProperty from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useMemo } from 'react';\nimport { useRouter } from 'next/router';\nimport { getQueryString } from 'lib/url';\nexport default function usePageQuery() {\n  var router = useRouter();\n  var _location = location,\n      pathname = _location.pathname,\n      search = _location.search;\n  var query = useMemo(function () {\n    if (!search) {\n      return {};\n    }\n\n    var params = search.substring(1).split('&');\n    return params.reduce(function (obj, item) {\n      var _item$split = item.split('='),\n          _item$split2 = _slicedToArray(_item$split, 2),\n          key = _item$split2[0],\n          value = _item$split2[1];\n\n      obj[key] = decodeURIComponent(value);\n      return obj;\n    }, {});\n  }, [search]);\n\n  function resolve(params) {\n    var search = getQueryString(_objectSpread(_objectSpread({}, query), params));\n    var asPath = router.asPath;\n    return \"\".concat(asPath.split('?')[0]).concat(search);\n  }\n\n  return {\n    pathname: pathname,\n    query: query,\n    resolve: resolve,\n    router: router\n  };\n}"]}}