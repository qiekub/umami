{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport useVersion from 'hooks/useVersion';\nimport styles from './UpdateNotice.module.css';\nimport ButtonLayout from '../layout/ButtonLayout';\nimport Button from './Button';\nimport useForceUpdate from '../../hooks/useForceUpdate';\nexport default function UpdateNotice() {\n  var forceUpdate = useForceUpdate();\n\n  var _useVersion = useVersion(true),\n      hasUpdate = _useVersion.hasUpdate,\n      checked = _useVersion.checked,\n      latest = _useVersion.latest,\n      updateCheck = _useVersion.updateCheck;\n\n  function handleViewClick() {\n    location.href = 'https://github.com/mikecao/umami/releases';\n    updateCheck();\n    forceUpdate();\n  }\n\n  function handleDismissClick() {\n    updateCheck();\n    forceUpdate();\n  }\n\n  if (!hasUpdate || checked) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: styles.notice,\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: styles.message,\n      children: /*#__PURE__*/_jsx(FormattedMessage, {\n        id: \"message.new-version-available\",\n        defaultMessage: \"A new version of umami {version} is available!\",\n        values: {\n          version: \"v\".concat(latest)\n        }\n      })\n    }), /*#__PURE__*/_jsxs(ButtonLayout, {\n      children: [/*#__PURE__*/_jsx(Button, {\n        size: \"xsmall\",\n        variant: \"action\",\n        onClick: handleViewClick,\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"label.view-details\",\n          defaultMessage: \"View details\"\n        })\n      }), /*#__PURE__*/_jsx(Button, {\n        size: \"xsmall\",\n        onClick: handleDismissClick,\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"label.dismiss\",\n          defaultMessage: \"Dismiss\"\n        })\n      })]\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}