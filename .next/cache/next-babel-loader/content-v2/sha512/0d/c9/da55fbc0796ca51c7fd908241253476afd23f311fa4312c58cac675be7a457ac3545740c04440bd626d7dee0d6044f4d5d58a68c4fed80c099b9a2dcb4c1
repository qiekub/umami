{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport React, { useMemo } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport classNames from 'classnames';\nimport useFetch from 'hooks/useFetch';\nimport Dot from 'components/common/Dot';\nimport { TOKEN_HEADER } from 'lib/constants';\nimport useShareToken from 'hooks/useShareToken';\nimport styles from './ActiveUsers.module.css';\nexport default function ActiveUsers(_ref) {\n  var websiteId = _ref.websiteId,\n      className = _ref.className;\n  var shareToken = useShareToken();\n\n  var _useFetch = useFetch(\"/api/website/\".concat(websiteId, \"/active\"), {\n    interval: 60000,\n    headers: _defineProperty({}, TOKEN_HEADER, shareToken === null || shareToken === void 0 ? void 0 : shareToken.token)\n  }),\n      data = _useFetch.data;\n\n  var count = useMemo(function () {\n    var _data$;\n\n    return (data === null || data === void 0 ? void 0 : (_data$ = data[0]) === null || _data$ === void 0 ? void 0 : _data$.x) || 0;\n  }, [data]);\n\n  if (count === 0) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: classNames(styles.container, className),\n    children: [/*#__PURE__*/_jsx(Dot, {}), /*#__PURE__*/_jsx(\"div\", {\n      className: styles.text,\n      children: /*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"message.active-users\",\n          defaultMessage: \"{x} current {x, plural, one {visitor} other {visitors}}\",\n          values: {\n            x: count\n          }\n        })\n      })\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}