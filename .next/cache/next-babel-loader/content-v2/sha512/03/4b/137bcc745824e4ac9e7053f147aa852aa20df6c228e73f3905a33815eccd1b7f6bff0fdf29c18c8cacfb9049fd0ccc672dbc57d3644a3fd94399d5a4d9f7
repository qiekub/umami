{"ast":null,"code":"import { useDispatch, useSelector } from 'react-redux';\nimport { setTheme } from 'redux/actions/app';\nimport { getItem, setItem } from 'lib/web';\nimport { THEME_CONFIG } from 'lib/constants';\nimport { useEffect } from 'react';\nexport default function useTheme() {\n  var _window, _window$matchMedia;\n\n  var defaultTheme = true ? (_window = window) !== null && _window !== void 0 && (_window$matchMedia = _window.matchMedia('prefers-color-scheme: dark')) !== null && _window$matchMedia !== void 0 && _window$matchMedia.matches ? 'dark' : 'light' : 'light';\n  var theme = useSelector(function (state) {\n    return state.app.theme || getItem(THEME_CONFIG) || defaultTheme;\n  });\n  var dispatch = useDispatch();\n\n  function saveTheme(value) {\n    setItem(THEME_CONFIG, value);\n    dispatch(setTheme(value));\n  }\n\n  useEffect(function () {\n    document.body.setAttribute('data-theme', theme);\n  }, [theme]);\n  return [theme, saveTheme];\n}","map":null,"metadata":{},"sourceType":"module"}