{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport PageHeader from 'components/layout/PageHeader';\nimport Button from 'components/common/Button';\nimport Modal from 'components/common/Modal';\nimport Toast from 'components/common/Toast';\nimport ChangePasswordForm from 'components/forms/ChangePasswordForm';\nimport TimezoneSetting from 'components/settings/TimezoneSetting';\nimport Dots from 'assets/ellipsis-h.svg';\nimport styles from './ProfileSettings.module.css';\nimport DateRangeSetting from './DateRangeSetting';\nimport useEscapeKey from 'hooks/useEscapeKey';\nexport default function ProfileSettings() {\n  var user = useSelector(function (state) {\n    return state.user;\n  });\n\n  var _useState = useState(false),\n      changePassword = _useState[0],\n      setChangePassword = _useState[1];\n\n  var _useState2 = useState(),\n      message = _useState2[0],\n      setMessage = _useState2[1];\n\n  var user_id = user.user_id;\n\n  function handleSave() {\n    setChangePassword(false);\n    setMessage( /*#__PURE__*/_jsx(FormattedMessage, {\n      id: \"message.save-success\",\n      defaultMessage: \"Saved successfully.\"\n    }));\n  }\n\n  useEscapeKey(function () {\n    setChangePassword(false);\n  });\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(PageHeader, {\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"label.profile\",\n          defaultMessage: \"Profile\"\n        })\n      }), /*#__PURE__*/_jsx(Button, {\n        icon: /*#__PURE__*/_jsx(Dots, {}),\n        size: \"small\",\n        onClick: function onClick() {\n          return setChangePassword(true);\n        },\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"label.change-password\",\n          defaultMessage: \"Change password\"\n        })\n      })]\n    }), /*#__PURE__*/_jsxs(\"dl\", {\n      className: styles.list,\n      children: [/*#__PURE__*/_jsx(\"dt\", {\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"label.username\",\n          defaultMessage: \"Username\"\n        })\n      }), /*#__PURE__*/_jsx(\"dd\", {\n        children: user.username\n      }), /*#__PURE__*/_jsx(\"dt\", {\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"label.timezone\",\n          defaultMessage: \"Timezone\"\n        })\n      }), /*#__PURE__*/_jsx(\"dd\", {\n        children: /*#__PURE__*/_jsx(TimezoneSetting, {})\n      }), /*#__PURE__*/_jsx(\"dt\", {\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"label.default-date-range\",\n          defaultMessage: \"Default date range\"\n        })\n      }), /*#__PURE__*/_jsx(\"dd\", {\n        children: /*#__PURE__*/_jsx(DateRangeSetting, {})\n      })]\n    }), changePassword && /*#__PURE__*/_jsx(Modal, {\n      title: /*#__PURE__*/_jsx(FormattedMessage, {\n        id: \"label.change-password\",\n        defaultMessage: \"Change password\"\n      }),\n      children: /*#__PURE__*/_jsx(ChangePasswordForm, {\n        values: {\n          user_id: user_id\n        },\n        onSave: handleSave,\n        onClose: function onClose() {\n          return setChangePassword(false);\n        }\n      })\n    }), message && /*#__PURE__*/_jsx(Toast, {\n      message: message,\n      onClose: function onClose() {\n        return setMessage(null);\n      }\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}