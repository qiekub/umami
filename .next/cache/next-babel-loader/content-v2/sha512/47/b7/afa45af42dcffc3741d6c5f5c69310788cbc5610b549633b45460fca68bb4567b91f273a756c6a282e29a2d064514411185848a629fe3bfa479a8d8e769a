{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport React, { useState, useRef } from 'react';\nimport classNames from 'classnames';\nimport Menu from 'components/common/Menu';\nimport Button from 'components/common/Button';\nimport useDocumentClick from 'hooks/useDocumentClick';\nimport styles from './MenuButton.module.css';\n\nfunction MenuButton(_ref) {\n  var icon = _ref.icon,\n      value = _ref.value,\n      options = _ref.options,\n      buttonClassName = _ref.buttonClassName,\n      menuClassName = _ref.menuClassName,\n      _ref$menuPosition = _ref.menuPosition,\n      menuPosition = _ref$menuPosition === void 0 ? 'bottom' : _ref$menuPosition,\n      _ref$menuAlign = _ref.menuAlign,\n      menuAlign = _ref$menuAlign === void 0 ? 'right' : _ref$menuAlign,\n      onSelect = _ref.onSelect,\n      renderValue = _ref.renderValue;\n\n  var _useState = useState(false),\n      showMenu = _useState[0],\n      setShowMenu = _useState[1];\n\n  var ref = useRef();\n  var selectedOption = options.find(function (e) {\n    return e.value === value;\n  });\n\n  function handleSelect(value) {\n    onSelect(value);\n    setShowMenu(false);\n  }\n\n  function toggleMenu() {\n    setShowMenu(function (state) {\n      return !state;\n    });\n  }\n\n  useDocumentClick(function (e) {\n    var _ref$current;\n\n    if (!((_ref$current = ref.current) !== null && _ref$current !== void 0 && _ref$current.contains(e.target))) {\n      setShowMenu(false);\n    }\n  });\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: styles.container,\n    ref: ref,\n    children: [/*#__PURE__*/_jsx(Button, {\n      icon: icon,\n      className: classNames(styles.button, buttonClassName, _defineProperty({}, styles.open, showMenu)),\n      onClick: toggleMenu,\n      variant: \"light\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: styles.text,\n        children: renderValue ? renderValue(selectedOption) : value\n      })\n    }), showMenu && /*#__PURE__*/_jsx(Menu, {\n      className: menuClassName,\n      options: options,\n      selectedOption: selectedOption,\n      onSelect: handleSelect,\n      \"float\": menuPosition,\n      align: menuAlign\n    })]\n  });\n}\n\nexport default MenuButton;","map":null,"metadata":{},"sourceType":"module"}