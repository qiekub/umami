{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/t/Documents_2/Work/Qiekub/code/umami/umami/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React from 'react';\nimport classNames from 'classnames';\nimport Dot from 'components/common/Dot';\nimport useLocale from 'hooks/useLocale';\nimport styles from './Legend.module.css';\nimport useForceUpdate from '../../hooks/useForceUpdate';\nexport default function Legend(_ref) {\n  var _chart$legend;\n\n  var chart = _ref.chart;\n\n  var _useLocale = useLocale(),\n      _useLocale2 = _slicedToArray(_useLocale, 1),\n      locale = _useLocale2[0];\n\n  var forceUpdate = useForceUpdate();\n\n  function handleClick(index) {\n    var meta = chart.getDatasetMeta(index);\n    meta.hidden = meta.hidden === null ? !chart.data.datasets[index].hidden : null;\n    chart.update();\n    forceUpdate();\n  }\n\n  if (!(chart !== null && chart !== void 0 && (_chart$legend = chart.legend) !== null && _chart$legend !== void 0 && _chart$legend.legendItems.find(function (_ref2) {\n    var text = _ref2.text;\n    return text;\n  }))) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    className: styles.legend,\n    children: chart.legend.legendItems.map(function (_ref3) {\n      var text = _ref3.text,\n          fillStyle = _ref3.fillStyle,\n          datasetIndex = _ref3.datasetIndex,\n          hidden = _ref3.hidden;\n      return /*#__PURE__*/_jsxs(\"div\", {\n        className: classNames(styles.label, _defineProperty({}, styles.hidden, hidden)),\n        onClick: function onClick() {\n          return handleClick(datasetIndex);\n        },\n        children: [/*#__PURE__*/_jsx(Dot, {\n          color: fillStyle\n        }), /*#__PURE__*/_jsx(\"span\", {\n          className: locale,\n          children: text\n        })]\n      }, text);\n    })\n  });\n}","map":null,"metadata":{},"sourceType":"module"}