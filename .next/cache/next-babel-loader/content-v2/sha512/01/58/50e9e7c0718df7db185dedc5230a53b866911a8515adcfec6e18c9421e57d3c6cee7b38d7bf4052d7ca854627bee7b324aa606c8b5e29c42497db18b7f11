{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport classNames from 'classnames';\nimport Head from 'next/head';\nimport Link from 'next/link';\nimport Page from '../layout/Page';\nimport PageHeader from '../layout/PageHeader';\nimport useFetch from '../../hooks/useFetch';\nimport DropDown from '../common/DropDown';\nimport styles from './TestConsole.module.css';\nimport WebsiteChart from '../metrics/WebsiteChart';\nimport EventsChart from '../metrics/EventsChart';\nimport Button from '../common/Button';\nimport EmptyPlaceholder from '../common/EmptyPlaceholder';\nexport default function TestConsole() {\n  var _options$find;\n\n  const user = useSelector(state => state.user);\n  const {\n    0: website,\n    1: setWebsite\n  } = useState();\n  const {\n    data\n  } = useFetch('/api/websites');\n\n  if (!data || !(user !== null && user !== void 0 && user.is_admin)) {\n    return null;\n  }\n\n  const options = data.map(({\n    name,\n    website_id\n  }) => ({\n    label: name,\n    value: website_id\n  }));\n  const selectedValue = (_options$find = options.find(({\n    value\n  }) => value === (website === null || website === void 0 ? void 0 : website.website_id))) === null || _options$find === void 0 ? void 0 : _options$find.value;\n\n  function handleSelect(value) {\n    setWebsite(data.find(({\n      website_id\n    }) => website_id === value));\n  }\n\n  function handleClick() {\n    window.umami('event (default)');\n    window.umami.trackView('/page-view', 'https://www.google.com');\n    window.umami.trackEvent('event (custom)', 'custom-type');\n  }\n\n  return /*#__PURE__*/_jsxs(Page, {\n    children: [/*#__PURE__*/_jsx(Head, {\n      children: false && website && /*#__PURE__*/_jsx(\"script\", {\n        async: true,\n        defer: true,\n        \"data-website-id\": website.website_uuid,\n        src: \"/umami.js\"\n      })\n    }), /*#__PURE__*/_jsxs(PageHeader, {\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        children: \"Test Console\"\n      }), /*#__PURE__*/_jsx(DropDown, {\n        value: selectedValue || 'Select website',\n        options: options,\n        onChange: handleSelect\n      })]\n    }), !selectedValue && /*#__PURE__*/_jsx(EmptyPlaceholder, {\n      msg: \"I hope you know what you're doing here\"\n    }), selectedValue && /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: classNames(styles.test, 'row'),\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"col-4\",\n          children: [/*#__PURE__*/_jsx(PageHeader, {\n            children: \"Page links\"\n          }), /*#__PURE__*/_jsx(\"div\", {\n            children: /*#__PURE__*/_jsx(Link, {\n              href: `?page=1`,\n              children: /*#__PURE__*/_jsx(\"a\", {\n                children: \"page one\"\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            children: /*#__PURE__*/_jsx(Link, {\n              href: `?page=2`,\n              children: /*#__PURE__*/_jsx(\"a\", {\n                children: \"page two\"\n              })\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"col-4\",\n          children: [/*#__PURE__*/_jsx(PageHeader, {\n            children: \"CSS events\"\n          }), /*#__PURE__*/_jsx(Button, {\n            id: \"primary-button\",\n            className: \"umami--click--primary-button\",\n            variant: \"action\",\n            children: \"Send event\"\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"col-4\",\n          children: [/*#__PURE__*/_jsx(PageHeader, {\n            children: \"Javascript events\"\n          }), /*#__PURE__*/_jsx(Button, {\n            id: \"manual-button\",\n            variant: \"action\",\n            onClick: handleClick,\n            children: \"Run script\"\n          })]\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"col-12\",\n          children: [/*#__PURE__*/_jsx(WebsiteChart, {\n            websiteId: website.website_id,\n            title: website.name,\n            domain: website.domain,\n            showLink: true\n          }), /*#__PURE__*/_jsx(PageHeader, {\n            children: \"Events\"\n          }), /*#__PURE__*/_jsx(EventsChart, {\n            websiteId: website.website_id\n          })]\n        })\n      })]\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}