{"ast":null,"code":"import { getAccountById, deleteAccount } from 'lib/queries';\nimport { useAuth } from 'lib/middleware';\nimport { methodNotAllowed, ok, unauthorized } from 'lib/response';\nexport default (async (req, res) => {\n  await useAuth(req, res);\n  const {\n    is_admin\n  } = req.auth;\n  const {\n    id\n  } = req.query;\n  const user_id = +id;\n\n  if (!is_admin) {\n    return unauthorized(res);\n  }\n\n  if (req.method === 'GET') {\n    const account = await getAccountById(user_id);\n    return ok(res, account);\n  }\n\n  if (req.method === 'DELETE') {\n    await deleteAccount(user_id);\n    return ok(res);\n  }\n\n  return methodNotAllowed(res);\n});","map":null,"metadata":{},"sourceType":"module"}