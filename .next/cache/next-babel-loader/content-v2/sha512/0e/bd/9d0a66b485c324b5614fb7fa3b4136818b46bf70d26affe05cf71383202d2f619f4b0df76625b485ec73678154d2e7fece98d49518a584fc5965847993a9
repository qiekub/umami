{"ast":null,"code":"import { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useRouter } from 'next/router';\nimport { get } from 'lib/web';\nimport { setShareToken } from 'redux/actions/app';\nexport default function useShareToken(shareId) {\n  const {\n    basePath\n  } = useRouter();\n  const dispatch = useDispatch();\n  const shareToken = useSelector(state => state.app.shareToken);\n\n  async function loadToken(id) {\n    const {\n      data\n    } = await get(`${basePath}/api/share/${id}`);\n\n    if (data) {\n      dispatch(setShareToken(data));\n    }\n  }\n\n  useEffect(() => {\n    if (shareId) {\n      loadToken(shareId);\n    }\n  }, [shareId]);\n  return shareToken;\n}","map":null,"metadata":{},"sourceType":"module"}