{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport PageHeader from 'components/layout/PageHeader';\nimport Button from 'components/common/Button';\nimport Modal from 'components/common/Modal';\nimport Toast from 'components/common/Toast';\nimport ChangePasswordForm from 'components/forms/ChangePasswordForm';\nimport TimezoneSetting from 'components/settings/TimezoneSetting';\nimport Dots from 'assets/ellipsis-h.svg';\nimport styles from './ProfileSettings.module.css';\nimport DateRangeSetting from './DateRangeSetting';\nimport useEscapeKey from 'hooks/useEscapeKey';\nexport default function ProfileSettings() {\n  const user = useSelector(state => state.user);\n  const {\n    0: changePassword,\n    1: setChangePassword\n  } = useState(false);\n  const {\n    0: message,\n    1: setMessage\n  } = useState();\n  const {\n    user_id\n  } = user;\n\n  function handleSave() {\n    setChangePassword(false);\n    setMessage( /*#__PURE__*/_jsx(FormattedMessage, {\n      id: \"message.save-success\",\n      defaultMessage: \"Saved successfully.\"\n    }));\n  }\n\n  useEscapeKey(() => {\n    setChangePassword(false);\n  });\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(PageHeader, {\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"label.profile\",\n          defaultMessage: \"Profile\"\n        })\n      }), /*#__PURE__*/_jsx(Button, {\n        icon: /*#__PURE__*/_jsx(Dots, {}),\n        size: \"small\",\n        onClick: () => setChangePassword(true),\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"label.change-password\",\n          defaultMessage: \"Change password\"\n        })\n      })]\n    }), /*#__PURE__*/_jsxs(\"dl\", {\n      className: styles.list,\n      children: [/*#__PURE__*/_jsx(\"dt\", {\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"label.username\",\n          defaultMessage: \"Username\"\n        })\n      }), /*#__PURE__*/_jsx(\"dd\", {\n        children: user.username\n      }), /*#__PURE__*/_jsx(\"dt\", {\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"label.timezone\",\n          defaultMessage: \"Timezone\"\n        })\n      }), /*#__PURE__*/_jsx(\"dd\", {\n        children: /*#__PURE__*/_jsx(TimezoneSetting, {})\n      }), /*#__PURE__*/_jsx(\"dt\", {\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"label.default-date-range\",\n          defaultMessage: \"Default date range\"\n        })\n      }), /*#__PURE__*/_jsx(\"dd\", {\n        children: /*#__PURE__*/_jsx(DateRangeSetting, {})\n      })]\n    }), changePassword && /*#__PURE__*/_jsx(Modal, {\n      title: /*#__PURE__*/_jsx(FormattedMessage, {\n        id: \"label.change-password\",\n        defaultMessage: \"Change password\"\n      }),\n      children: /*#__PURE__*/_jsx(ChangePasswordForm, {\n        values: {\n          user_id\n        },\n        onSave: handleSave,\n        onClose: () => setChangePassword(false)\n      })\n    }), message && /*#__PURE__*/_jsx(Toast, {\n      message: message,\n      onClose: () => setMessage(null)\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}