{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useMemo } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport classNames from 'classnames';\nimport useFetch from 'hooks/useFetch';\nimport Dot from 'components/common/Dot';\nimport { TOKEN_HEADER } from 'lib/constants';\nimport useShareToken from 'hooks/useShareToken';\nimport styles from './ActiveUsers.module.css';\nexport default function ActiveUsers({\n  websiteId,\n  className\n}) {\n  const shareToken = useShareToken();\n  const {\n    data\n  } = useFetch(`/api/website/${websiteId}/active`, {\n    interval: 60000,\n    headers: {\n      [TOKEN_HEADER]: shareToken === null || shareToken === void 0 ? void 0 : shareToken.token\n    }\n  });\n  const count = useMemo(() => {\n    var _data$;\n\n    return (data === null || data === void 0 ? void 0 : (_data$ = data[0]) === null || _data$ === void 0 ? void 0 : _data$.x) || 0;\n  }, [data]);\n\n  if (count === 0) {\n    return null;\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: classNames(styles.container, className),\n    children: [/*#__PURE__*/_jsx(Dot, {}), /*#__PURE__*/_jsx(\"div\", {\n      className: styles.text,\n      children: /*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(FormattedMessage, {\n          id: \"message.active-users\",\n          defaultMessage: \"{x} current {x, plural, one {visitor} other {visitors}}\",\n          values: {\n            x: count\n          }\n        })\n      })\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}